"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@payloadcms+ui@3.54.0_@type_b4e71577473023807239a2abc3ca8c78";
exports.ids = ["vendor-chunks/@payloadcms+ui@3.54.0_@type_b4e71577473023807239a2abc3ca8c78"];
exports.modules = {

/***/ "(rsc)/./node_modules/.pnpm/@payloadcms+ui@3.54.0_@type_b4e71577473023807239a2abc3ca8c78/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/addFieldStatePromise.js":
/*!********************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@payloadcms+ui@3.54.0_@type_b4e71577473023807239a2abc3ca8c78/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/addFieldStatePromise.js ***!
  \********************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addFieldStatePromise: () => (/* binding */ addFieldStatePromise)\n/* harmony export */ });\n/* harmony import */ var bson_objectid__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bson-objectid */ \"(rsc)/./node_modules/.pnpm/bson-objectid@2.0.4/node_modules/bson-objectid/objectid.js\");\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! payload */ \"(rsc)/./node_modules/.pnpm/payload@3.54.0_graphql@16.11.0_typescript@5.7.3/node_modules/payload/dist/utilities/getBlockSelect.js\");\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! payload */ \"(rsc)/./node_modules/.pnpm/payload@3.54.0_graphql@16.11.0_typescript@5.7.3/node_modules/payload/dist/utilities/stripUnselectedFields.js\");\n/* harmony import */ var payload_shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! payload/shared */ \"(rsc)/./node_modules/.pnpm/payload@3.54.0_graphql@16.11.0_typescript@5.7.3/node_modules/payload/dist/fields/config/types.js\");\n/* harmony import */ var payload_shared__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! payload/shared */ \"(rsc)/./node_modules/.pnpm/payload@3.54.0_graphql@16.11.0_typescript@5.7.3/node_modules/payload/dist/utilities/deepCopyObject.js\");\n/* harmony import */ var payload_shared__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! payload/shared */ \"(rsc)/./node_modules/.pnpm/payload@3.54.0_graphql@16.11.0_typescript@5.7.3/node_modules/payload/dist/fields/getFieldPaths.js\");\n/* harmony import */ var _utilities_resolveFilterOptions_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../utilities/resolveFilterOptions.js */ \"(rsc)/./node_modules/.pnpm/@payloadcms+ui@3.54.0_@type_b4e71577473023807239a2abc3ca8c78/node_modules/@payloadcms/ui/dist/utilities/resolveFilterOptions.js\");\n/* harmony import */ var _isRowCollapsed_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./isRowCollapsed.js */ \"(rsc)/./node_modules/.pnpm/@payloadcms+ui@3.54.0_@type_b4e71577473023807239a2abc3ca8c78/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/isRowCollapsed.js\");\n/* harmony import */ var _iterateFields_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./iterateFields.js */ \"(rsc)/./node_modules/.pnpm/@payloadcms+ui@3.54.0_@type_b4e71577473023807239a2abc3ca8c78/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/iterateFields.js\");\n\n\n\n\n\n\nconst ObjectId = \"default\" in bson_objectid__WEBPACK_IMPORTED_MODULE_0__ ? bson_objectid__WEBPACK_IMPORTED_MODULE_0__[\"default\"] : bson_objectid__WEBPACK_IMPORTED_MODULE_0__;\n/**\n * Flattens the fields schema and fields data.\n * The output is the field path (e.g. array.0.name) mapped to a FormField object.\n */\nconst addFieldStatePromise = async args => {\n  const {\n    id,\n    addErrorPathToParent: addErrorPathToParentArg,\n    anyParentLocalized = false,\n    blockData,\n    clientFieldSchemaMap,\n    collectionSlug,\n    data,\n    field,\n    fieldSchemaMap,\n    filter,\n    forceFullValue = false,\n    fullData,\n    includeSchema = false,\n    indexPath,\n    mockRSCs,\n    omitParents = false,\n    operation,\n    parentPath,\n    parentPermissions,\n    parentSchemaPath,\n    passesCondition,\n    path,\n    preferences,\n    previousFormState,\n    readOnly,\n    renderAllFields,\n    renderFieldFn,\n    req,\n    schemaPath,\n    select,\n    selectMode,\n    skipConditionChecks = false,\n    skipValidation = false,\n    state\n  } = args;\n  if (!args.clientFieldSchemaMap && args.renderFieldFn) {\n    // eslint-disable-next-line no-console\n    console.warn('clientFieldSchemaMap is not passed to addFieldStatePromise - this will reduce performance');\n  }\n  let fieldPermissions = true;\n  const fieldState = {};\n  const lastRenderedPath = previousFormState?.[path]?.lastRenderedPath;\n  // Append only if true to avoid sending '$undefined' through the network\n  if (lastRenderedPath) {\n    fieldState.lastRenderedPath = lastRenderedPath;\n  }\n  // If we're rendering all fields, no need to flag this as added by server\n  const addedByServer = !renderAllFields && !previousFormState?.[path];\n  // Append only if true to avoid sending '$undefined' through the network\n  if (addedByServer) {\n    fieldState.addedByServer = true;\n  }\n  // Append only if true to avoid sending '$undefined' through the network\n  if (passesCondition === false) {\n    fieldState.passesCondition = false;\n  }\n  // Append only if true to avoid sending '$undefined' through the network\n  if (includeSchema) {\n    fieldState.fieldSchema = field;\n  }\n  if ((0,payload_shared__WEBPACK_IMPORTED_MODULE_1__.fieldAffectsData)(field) && !(0,payload_shared__WEBPACK_IMPORTED_MODULE_1__.fieldIsHiddenOrDisabled)(field)) {\n    fieldPermissions = parentPermissions === true ? parentPermissions : (0,payload_shared__WEBPACK_IMPORTED_MODULE_2__.deepCopyObjectSimple)(parentPermissions?.[field.name]);\n    let hasPermission = fieldPermissions === true || (0,payload_shared__WEBPACK_IMPORTED_MODULE_2__.deepCopyObjectSimple)(fieldPermissions?.read);\n    if (typeof field?.access?.read === 'function') {\n      hasPermission = await field.access.read({\n        id,\n        blockData,\n        data: fullData,\n        req,\n        siblingData: data\n      });\n    } else {\n      hasPermission = true;\n    }\n    if (!hasPermission) {\n      return;\n    }\n    const validate = field.validate;\n    let validationResult = true;\n    if (typeof validate === 'function' && !skipValidation && passesCondition) {\n      let jsonError;\n      if (field.type === 'json' && typeof data[field.name] === 'string') {\n        try {\n          JSON.parse(data[field.name]);\n        } catch (e) {\n          jsonError = e;\n        }\n      }\n      try {\n        validationResult = await validate(data?.[field.name], {\n          ...field,\n          id,\n          blockData,\n          collectionSlug,\n          data: fullData,\n          event: 'onChange',\n          // @AlessioGr added `jsonError` in https://github.com/payloadcms/payload/commit/c7ea62a39473408c3ea912c4fbf73e11be4b538d\n          // @ts-expect-error-next-line\n          jsonError,\n          operation,\n          preferences,\n          previousValue: previousFormState?.[path]?.initialValue,\n          req,\n          siblingData: data\n        });\n      } catch (err) {\n        validationResult = `Error validating field at path: ${path}`;\n        req.payload.logger.error({\n          err,\n          msg: validationResult\n        });\n      }\n    }\n    const addErrorPathToParent = errorPath => {\n      if (typeof addErrorPathToParentArg === 'function') {\n        addErrorPathToParentArg(errorPath);\n      }\n      if (!fieldState.errorPaths) {\n        fieldState.errorPaths = [];\n      }\n      if (!fieldState.errorPaths.includes(errorPath)) {\n        fieldState.errorPaths.push(errorPath);\n        fieldState.valid = false;\n      }\n    };\n    if (typeof validationResult === 'string') {\n      fieldState.errorMessage = validationResult;\n      fieldState.valid = false;\n      addErrorPathToParent(path);\n    }\n    switch (field.type) {\n      case 'array':\n        {\n          const arrayValue = Array.isArray(data[field.name]) ? data[field.name] : [];\n          const arraySelect = select?.[field.name];\n          const {\n            promises,\n            rows\n          } = arrayValue.reduce((acc, row, i) => {\n            const parentPath = path + '.' + i;\n            row.id = row?.id || new ObjectId().toHexString();\n            if (!omitParents && (!filter || filter(args))) {\n              const idKey = parentPath + '.id';\n              state[idKey] = {\n                initialValue: row.id,\n                value: row.id\n              };\n              if (includeSchema) {\n                state[idKey].fieldSchema = field.fields.find(field => (0,payload_shared__WEBPACK_IMPORTED_MODULE_1__.fieldIsID)(field));\n              }\n            }\n            acc.promises.push((0,_iterateFields_js__WEBPACK_IMPORTED_MODULE_3__.iterateFields)({\n              id,\n              addErrorPathToParent,\n              anyParentLocalized: field.localized || anyParentLocalized,\n              blockData,\n              clientFieldSchemaMap,\n              collectionSlug,\n              data: row,\n              fields: field.fields,\n              fieldSchemaMap,\n              filter,\n              forceFullValue,\n              fullData,\n              includeSchema,\n              mockRSCs,\n              omitParents,\n              operation,\n              parentIndexPath: '',\n              parentPassesCondition: passesCondition,\n              parentPath,\n              parentSchemaPath: schemaPath,\n              permissions: fieldPermissions === true ? fieldPermissions : fieldPermissions?.fields || {},\n              preferences,\n              previousFormState,\n              readOnly,\n              renderAllFields,\n              renderFieldFn,\n              req,\n              select: typeof arraySelect === 'object' ? arraySelect : undefined,\n              selectMode,\n              skipConditionChecks,\n              skipValidation,\n              state\n            }));\n            if (!acc.rows) {\n              acc.rows = [];\n            }\n            // First, check if `previousFormState` has a matching row\n            const previousRow = (previousFormState?.[path]?.rows || []).find(prevRow => prevRow.id === row.id);\n            const newRow = {\n              id: row.id,\n              isLoading: false\n            };\n            if (previousRow?.lastRenderedPath) {\n              newRow.lastRenderedPath = previousRow.lastRenderedPath;\n            }\n            // add addedByServer flag\n            if (!previousRow) {\n              newRow.addedByServer = true;\n            }\n            const isCollapsed = (0,_isRowCollapsed_js__WEBPACK_IMPORTED_MODULE_4__.isRowCollapsed)({\n              collapsedPrefs: preferences?.fields?.[path]?.collapsed,\n              field,\n              previousRow,\n              row\n            });\n            if (isCollapsed) {\n              newRow.collapsed = true;\n            }\n            acc.rows.push(newRow);\n            return acc;\n          }, {\n            promises: [],\n            rows: undefined\n          });\n          // Wait for all promises and update fields with the results\n          await Promise.all(promises);\n          if (rows) {\n            fieldState.rows = rows;\n          }\n          // Add values to field state\n          if (data[field.name] !== null) {\n            fieldState.value = forceFullValue ? arrayValue : arrayValue.length;\n            fieldState.initialValue = forceFullValue ? arrayValue : arrayValue.length;\n            if (arrayValue.length > 0) {\n              fieldState.disableFormData = true;\n            }\n          }\n          // Add field to state\n          if (!omitParents && (!filter || filter(args))) {\n            state[path] = fieldState;\n          }\n          break;\n        }\n      case 'blocks':\n        {\n          const blocksValue = Array.isArray(data[field.name]) ? data[field.name] : [];\n          const {\n            promises,\n            rowMetadata\n          } = blocksValue.reduce((acc, row, i) => {\n            const blockTypeToMatch = row.blockType;\n            const block = req.payload.blocks[blockTypeToMatch] ?? (field.blockReferences ?? field.blocks).find(blockType => typeof blockType !== 'string' && blockType.slug === blockTypeToMatch);\n            if (!block) {\n              throw new Error(`Block with type \"${row.blockType}\" was found in block data, but no block with that type is defined in the config for field with schema path ${schemaPath}.`);\n            }\n            const {\n              blockSelect,\n              blockSelectMode\n            } = (0,payload__WEBPACK_IMPORTED_MODULE_5__.getBlockSelect)({\n              block,\n              select: select?.[field.name],\n              selectMode\n            });\n            const parentPath = path + '.' + i;\n            if (block) {\n              row.id = row?.id || new ObjectId().toHexString();\n              if (!omitParents && (!filter || filter(args))) {\n                // Handle block `id` field\n                const idKey = parentPath + '.id';\n                state[idKey] = {\n                  initialValue: row.id,\n                  value: row.id\n                };\n                if (includeSchema) {\n                  state[idKey].fieldSchema = includeSchema ? block.fields.find(blockField => (0,payload_shared__WEBPACK_IMPORTED_MODULE_1__.fieldIsID)(blockField)) : undefined;\n                }\n                // Handle `blockType` field\n                const fieldKey = parentPath + '.blockType';\n                state[fieldKey] = {\n                  initialValue: row.blockType,\n                  value: row.blockType\n                };\n                if (addedByServer) {\n                  state[fieldKey].addedByServer = addedByServer;\n                }\n                if (includeSchema) {\n                  state[fieldKey].fieldSchema = block.fields.find(blockField => 'name' in blockField && blockField.name === 'blockType');\n                }\n                // Handle `blockName` field\n                const blockNameKey = parentPath + '.blockName';\n                state[blockNameKey] = {};\n                if (row.blockName) {\n                  state[blockNameKey].initialValue = row.blockName;\n                  state[blockNameKey].value = row.blockName;\n                }\n                if (includeSchema) {\n                  state[blockNameKey].fieldSchema = block.fields.find(blockField => 'name' in blockField && blockField.name === 'blockName');\n                }\n              }\n              acc.promises.push((0,_iterateFields_js__WEBPACK_IMPORTED_MODULE_3__.iterateFields)({\n                id,\n                addErrorPathToParent,\n                anyParentLocalized: field.localized || anyParentLocalized,\n                blockData: row,\n                clientFieldSchemaMap,\n                collectionSlug,\n                data: row,\n                fields: block.fields,\n                fieldSchemaMap,\n                filter,\n                forceFullValue,\n                fullData,\n                includeSchema,\n                mockRSCs,\n                omitParents,\n                operation,\n                parentIndexPath: '',\n                parentPassesCondition: passesCondition,\n                parentPath,\n                parentSchemaPath: schemaPath + '.' + block.slug,\n                permissions: fieldPermissions === true ? fieldPermissions : parentPermissions?.[field.name]?.blocks?.[block.slug] === true ? true : parentPermissions?.[field.name]?.blocks?.[block.slug]?.fields || {},\n                preferences,\n                previousFormState,\n                readOnly,\n                renderAllFields,\n                renderFieldFn,\n                req,\n                select: typeof blockSelect === 'object' ? blockSelect : undefined,\n                selectMode: blockSelectMode,\n                skipConditionChecks,\n                skipValidation,\n                state\n              }));\n              // First, check if `previousFormState` has a matching row\n              const previousRow = (previousFormState?.[path]?.rows || []).find(prevRow => prevRow.id === row.id);\n              const newRow = {\n                id: row.id,\n                blockType: row.blockType,\n                isLoading: false\n              };\n              if (previousRow?.lastRenderedPath) {\n                newRow.lastRenderedPath = previousRow.lastRenderedPath;\n              }\n              acc.rowMetadata.push(newRow);\n              const isCollapsed = (0,_isRowCollapsed_js__WEBPACK_IMPORTED_MODULE_4__.isRowCollapsed)({\n                collapsedPrefs: preferences?.fields?.[path]?.collapsed,\n                field,\n                previousRow,\n                row\n              });\n              if (isCollapsed) {\n                acc.rowMetadata[acc.rowMetadata.length - 1].collapsed = true;\n              }\n            }\n            return acc;\n          }, {\n            promises: [],\n            rowMetadata: []\n          });\n          await Promise.all(promises);\n          // Add values to field state\n          if (data[field.name] === null) {\n            fieldState.value = null;\n            fieldState.initialValue = null;\n          } else {\n            fieldState.value = forceFullValue ? blocksValue : blocksValue.length;\n            fieldState.initialValue = forceFullValue ? blocksValue : blocksValue.length;\n            if (blocksValue.length > 0) {\n              fieldState.disableFormData = true;\n            }\n          }\n          fieldState.rows = rowMetadata;\n          // Add field to state\n          if (!omitParents && (!filter || filter(args))) {\n            state[path] = fieldState;\n          }\n          break;\n        }\n      case 'group':\n        {\n          if (!filter || filter(args)) {\n            fieldState.disableFormData = true;\n            state[path] = fieldState;\n          }\n          const groupSelect = select?.[field.name];\n          await (0,_iterateFields_js__WEBPACK_IMPORTED_MODULE_3__.iterateFields)({\n            id,\n            addErrorPathToParent,\n            anyParentLocalized: field.localized || anyParentLocalized,\n            blockData,\n            clientFieldSchemaMap,\n            collectionSlug,\n            data: data?.[field.name] || {},\n            fields: field.fields,\n            fieldSchemaMap,\n            filter,\n            forceFullValue,\n            fullData,\n            includeSchema,\n            mockRSCs,\n            omitParents,\n            operation,\n            parentIndexPath: '',\n            parentPassesCondition: passesCondition,\n            parentPath: path,\n            parentSchemaPath: schemaPath,\n            permissions: typeof fieldPermissions === 'boolean' ? fieldPermissions : fieldPermissions?.fields,\n            preferences,\n            previousFormState,\n            readOnly,\n            renderAllFields,\n            renderFieldFn,\n            req,\n            select: typeof groupSelect === 'object' ? groupSelect : undefined,\n            selectMode,\n            skipConditionChecks,\n            skipValidation,\n            state\n          });\n          break;\n        }\n      case 'relationship':\n      case 'upload':\n        {\n          if (field.filterOptions) {\n            if (typeof field.filterOptions === 'object') {\n              if (typeof field.relationTo === 'string') {\n                fieldState.filterOptions = {\n                  [field.relationTo]: field.filterOptions\n                };\n              } else {\n                fieldState.filterOptions = field.relationTo.reduce((acc, relation) => {\n                  acc[relation] = field.filterOptions;\n                  return acc;\n                }, {});\n              }\n            }\n            if (typeof field.filterOptions === 'function') {\n              const query = await (0,_utilities_resolveFilterOptions_js__WEBPACK_IMPORTED_MODULE_6__.resolveFilterOptions)(field.filterOptions, {\n                id,\n                blockData,\n                data: fullData,\n                relationTo: field.relationTo,\n                req,\n                siblingData: data,\n                user: req.user\n              });\n              fieldState.filterOptions = query;\n            }\n          }\n          if (field.hasMany) {\n            const relationshipValue = Array.isArray(data[field.name]) ? data[field.name].map(relationship => {\n              if (Array.isArray(field.relationTo)) {\n                return {\n                  relationTo: relationship.relationTo,\n                  value: relationship.value && typeof relationship.value === 'object' ? relationship.value?.id : relationship.value\n                };\n              }\n              if (typeof relationship === 'object' && relationship !== null) {\n                return relationship.id;\n              }\n              return relationship;\n            }) : undefined;\n            fieldState.value = relationshipValue;\n            fieldState.initialValue = relationshipValue;\n          } else if (Array.isArray(field.relationTo)) {\n            if (data[field.name] && typeof data[field.name] === 'object' && 'relationTo' in data[field.name] && 'value' in data[field.name]) {\n              const value = typeof data[field.name]?.value === 'object' && data[field.name]?.value && 'id' in data[field.name].value ? data[field.name].value.id : data[field.name].value;\n              const relationshipValue = {\n                relationTo: data[field.name]?.relationTo,\n                value\n              };\n              fieldState.value = relationshipValue;\n              fieldState.initialValue = relationshipValue;\n            }\n          } else {\n            const relationshipValue = data[field.name] && typeof data[field.name] === 'object' && 'id' in data[field.name] ? data[field.name].id : data[field.name];\n            fieldState.value = relationshipValue;\n            fieldState.initialValue = relationshipValue;\n          }\n          if (!filter || filter(args)) {\n            state[path] = fieldState;\n          }\n          break;\n        }\n      case 'select':\n        {\n          if (typeof field.filterOptions === 'function') {\n            fieldState.selectFilterOptions = field.filterOptions({\n              data: fullData,\n              options: field.options,\n              req,\n              siblingData: data\n            });\n          }\n          if (data[field.name] !== undefined) {\n            fieldState.value = data[field.name];\n            fieldState.initialValue = data[field.name];\n          }\n          if (!filter || filter(args)) {\n            state[path] = fieldState;\n          }\n          break;\n        }\n      default:\n        {\n          if (data[field.name] !== undefined) {\n            fieldState.value = data[field.name];\n            fieldState.initialValue = data[field.name];\n          }\n          // Add field to state\n          if (!filter || filter(args)) {\n            state[path] = fieldState;\n          }\n          break;\n        }\n    }\n  } else if ((0,payload_shared__WEBPACK_IMPORTED_MODULE_1__.fieldHasSubFields)(field) && !(0,payload_shared__WEBPACK_IMPORTED_MODULE_1__.fieldAffectsData)(field)) {\n    // Handle field types that do not use names (row, collapsible, unnamed group etc)\n    if (!filter || filter(args)) {\n      state[path] = {\n        disableFormData: true\n      };\n      if (passesCondition === false) {\n        state[path].passesCondition = false;\n      }\n    }\n    await (0,_iterateFields_js__WEBPACK_IMPORTED_MODULE_3__.iterateFields)({\n      id,\n      mockRSCs,\n      select,\n      selectMode,\n      // passthrough parent functionality\n      addErrorPathToParent: addErrorPathToParentArg,\n      anyParentLocalized: (0,payload_shared__WEBPACK_IMPORTED_MODULE_1__.fieldIsLocalized)(field) || anyParentLocalized,\n      blockData,\n      clientFieldSchemaMap,\n      collectionSlug,\n      data,\n      fields: field.fields,\n      fieldSchemaMap,\n      filter,\n      forceFullValue,\n      fullData,\n      includeSchema,\n      omitParents,\n      operation,\n      parentIndexPath: indexPath,\n      parentPassesCondition: passesCondition,\n      parentPath,\n      parentSchemaPath,\n      permissions: parentPermissions,\n      preferences,\n      previousFormState,\n      readOnly,\n      renderAllFields,\n      renderFieldFn,\n      req,\n      skipConditionChecks,\n      skipValidation,\n      state\n    });\n  } else if (field.type === 'tabs') {\n    const promises = field.tabs.map((tab, tabIndex) => {\n      const isNamedTab = (0,payload_shared__WEBPACK_IMPORTED_MODULE_1__.tabHasName)(tab);\n      let tabSelect;\n      const tabField = {\n        ...tab,\n        type: 'tab'\n      };\n      const {\n        indexPath: tabIndexPath,\n        path: tabPath,\n        schemaPath: tabSchemaPath\n      } = (0,payload_shared__WEBPACK_IMPORTED_MODULE_7__.getFieldPaths)({\n        field: tabField,\n        index: tabIndex,\n        parentIndexPath: indexPath,\n        parentPath,\n        parentSchemaPath\n      });\n      let childPermissions = undefined;\n      if (isNamedTab) {\n        const shouldContinue = (0,payload__WEBPACK_IMPORTED_MODULE_8__.stripUnselectedFields)({\n          field: tabField,\n          select,\n          selectMode,\n          siblingDoc: data?.[tab.name] || {}\n        });\n        if (!shouldContinue) {\n          return;\n        }\n        if (parentPermissions === true) {\n          childPermissions = true;\n        } else {\n          const tabPermissions = parentPermissions?.[tab.name];\n          if (tabPermissions === true) {\n            childPermissions = true;\n          } else {\n            childPermissions = tabPermissions?.fields;\n          }\n        }\n        if (typeof select?.[tab.name] === 'object') {\n          tabSelect = select?.[tab.name];\n        }\n      } else {\n        childPermissions = parentPermissions;\n        tabSelect = select;\n      }\n      const pathSegments = path ? path.split('.') : [];\n      // If passesCondition is false then this should always result to false\n      // If the tab has no admin.condition provided then fallback to passesCondition and let that decide the result\n      let tabPassesCondition = passesCondition;\n      if (passesCondition && typeof tab.admin?.condition === 'function') {\n        tabPassesCondition = tab.admin.condition(fullData, data, {\n          blockData,\n          operation,\n          path: pathSegments,\n          user: req.user\n        });\n      }\n      if (tab?.id) {\n        state[tab.id] = {\n          passesCondition: tabPassesCondition\n        };\n      }\n      return (0,_iterateFields_js__WEBPACK_IMPORTED_MODULE_3__.iterateFields)({\n        id,\n        addErrorPathToParent: addErrorPathToParentArg,\n        anyParentLocalized: tab.localized || anyParentLocalized,\n        blockData,\n        clientFieldSchemaMap,\n        collectionSlug,\n        data: isNamedTab ? data?.[tab.name] || {} : data,\n        fields: tab.fields,\n        fieldSchemaMap,\n        filter,\n        forceFullValue,\n        fullData,\n        includeSchema,\n        mockRSCs,\n        omitParents,\n        operation,\n        parentIndexPath: isNamedTab ? '' : tabIndexPath,\n        parentPassesCondition: tabPassesCondition,\n        parentPath: isNamedTab ? tabPath : parentPath,\n        parentSchemaPath: isNamedTab ? tabSchemaPath : parentSchemaPath,\n        permissions: childPermissions,\n        preferences,\n        previousFormState,\n        readOnly,\n        renderAllFields,\n        renderFieldFn,\n        req,\n        select: tabSelect,\n        selectMode,\n        skipConditionChecks,\n        skipValidation,\n        state\n      });\n    });\n    await Promise.all(promises);\n  } else if (field.type === 'ui') {\n    if (!filter || filter(args)) {\n      state[path] = fieldState;\n      state[path].disableFormData = true;\n    }\n  }\n  if (renderFieldFn && !(0,payload_shared__WEBPACK_IMPORTED_MODULE_1__.fieldIsHiddenOrDisabled)(field)) {\n    const fieldConfig = fieldSchemaMap.get(schemaPath);\n    if (!fieldConfig && !mockRSCs) {\n      if (schemaPath.endsWith('.blockType')) {\n        return;\n      } else {\n        throw new Error(`Field config not found for ${schemaPath}`);\n      }\n    }\n    if (!state[path]) {\n      // Some fields (ie `Tab`) do not live in form state\n      // therefore we cannot attach customComponents to them\n      return;\n    }\n    if (addedByServer) {\n      state[path].addedByServer = addedByServer;\n    }\n    renderFieldFn({\n      id,\n      clientFieldSchemaMap,\n      collectionSlug,\n      data: fullData,\n      fieldConfig: fieldConfig,\n      fieldSchemaMap,\n      fieldState: state[path],\n      formState: state,\n      indexPath,\n      lastRenderedPath,\n      mockRSCs,\n      operation,\n      parentPath,\n      parentSchemaPath,\n      path,\n      permissions: fieldPermissions,\n      preferences,\n      previousFieldState: previousFormState?.[path],\n      readOnly,\n      renderAllFields,\n      req,\n      schemaPath,\n      siblingData: data\n    });\n  }\n};\n//# sourceMappingURL=addFieldStatePromise.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQHBheWxvYWRjbXMrdWlAMy41NC4wX0B0eXBlX2I0ZTcxNTc3NDczMDIzODA3MjM5YTJhYmMzY2E4Yzc4L25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy91aS9kaXN0L2Zvcm1zL2ZpZWxkU2NoZW1hc1RvRm9ybVN0YXRlL2FkZEZpZWxkU3RhdGVQcm9taXNlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBMkM7QUFDcUI7QUFDNEc7QUFDN0Y7QUFDMUI7QUFDRjtBQUNuRCxpQkFBaUIsdURBQTJCLEdBQUcscURBQXNCLEdBQUcsMENBQWM7QUFDdEY7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLGdFQUFnQixZQUFZLHVFQUF1QjtBQUN6RCx3RUFBd0Usb0VBQW9CO0FBQzVGLHFEQUFxRCxvRUFBb0I7QUFDekU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxRQUFRO0FBQ1IsOERBQThELEtBQUs7QUFDbkU7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzRUFBc0UseURBQVM7QUFDL0U7QUFDQTtBQUNBLDhCQUE4QixnRUFBYTtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0dBQXdHO0FBQ3hHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0Msa0VBQWM7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCxjQUFjLDZHQUE2RyxXQUFXO0FBQ3hMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxFQUFFLHVEQUFjO0FBQzlCO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkZBQTZGLHlEQUFTO0FBQ3RHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxnRUFBYTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdU5BQXVOO0FBQ3ZOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxrRUFBYztBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGdFQUFhO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixJQUFJO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyx3RkFBb0I7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksU0FBUyxpRUFBaUIsWUFBWSxnRUFBZ0I7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxnRUFBYTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsZ0VBQWdCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSTtBQUNKO0FBQ0EseUJBQXlCLDBEQUFVO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsRUFBRSw2REFBYTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSwrQkFBK0IsOERBQXFCO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLGdFQUFhO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRDtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix1RUFBdUI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1Isc0RBQXNELFdBQVc7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGt1c2hcXERlc2t0b3BcXHNjcmFwZXNhdmVlXFxhcHBzXFxjbXNcXG5vZGVfbW9kdWxlc1xcLnBucG1cXEBwYXlsb2FkY21zK3VpQDMuNTQuMF9AdHlwZV9iNGU3MTU3NzQ3MzAyMzgwNzIzOWEyYWJjM2NhOGM3OFxcbm9kZV9tb2R1bGVzXFxAcGF5bG9hZGNtc1xcdWlcXGRpc3RcXGZvcm1zXFxmaWVsZFNjaGVtYXNUb0Zvcm1TdGF0ZVxcYWRkRmllbGRTdGF0ZVByb21pc2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IE9iamVjdElkSW1wb3J0IGZyb20gJ2Jzb24tb2JqZWN0aWQnO1xuaW1wb3J0IHsgZ2V0QmxvY2tTZWxlY3QsIHN0cmlwVW5zZWxlY3RlZEZpZWxkcyB9IGZyb20gJ3BheWxvYWQnO1xuaW1wb3J0IHsgZGVlcENvcHlPYmplY3RTaW1wbGUsIGZpZWxkQWZmZWN0c0RhdGEsIGZpZWxkSGFzU3ViRmllbGRzLCBmaWVsZElzSGlkZGVuT3JEaXNhYmxlZCwgZmllbGRJc0lELCBmaWVsZElzTG9jYWxpemVkLCBnZXRGaWVsZFBhdGhzLCB0YWJIYXNOYW1lIH0gZnJvbSAncGF5bG9hZC9zaGFyZWQnO1xuaW1wb3J0IHsgcmVzb2x2ZUZpbHRlck9wdGlvbnMgfSBmcm9tICcuLi8uLi91dGlsaXRpZXMvcmVzb2x2ZUZpbHRlck9wdGlvbnMuanMnO1xuaW1wb3J0IHsgaXNSb3dDb2xsYXBzZWQgfSBmcm9tICcuL2lzUm93Q29sbGFwc2VkLmpzJztcbmltcG9ydCB7IGl0ZXJhdGVGaWVsZHMgfSBmcm9tICcuL2l0ZXJhdGVGaWVsZHMuanMnO1xuY29uc3QgT2JqZWN0SWQgPSAnZGVmYXVsdCcgaW4gT2JqZWN0SWRJbXBvcnQgPyBPYmplY3RJZEltcG9ydC5kZWZhdWx0IDogT2JqZWN0SWRJbXBvcnQ7XG4vKipcbiAqIEZsYXR0ZW5zIHRoZSBmaWVsZHMgc2NoZW1hIGFuZCBmaWVsZHMgZGF0YS5cbiAqIFRoZSBvdXRwdXQgaXMgdGhlIGZpZWxkIHBhdGggKGUuZy4gYXJyYXkuMC5uYW1lKSBtYXBwZWQgdG8gYSBGb3JtRmllbGQgb2JqZWN0LlxuICovXG5leHBvcnQgY29uc3QgYWRkRmllbGRTdGF0ZVByb21pc2UgPSBhc3luYyBhcmdzID0+IHtcbiAgY29uc3Qge1xuICAgIGlkLFxuICAgIGFkZEVycm9yUGF0aFRvUGFyZW50OiBhZGRFcnJvclBhdGhUb1BhcmVudEFyZyxcbiAgICBhbnlQYXJlbnRMb2NhbGl6ZWQgPSBmYWxzZSxcbiAgICBibG9ja0RhdGEsXG4gICAgY2xpZW50RmllbGRTY2hlbWFNYXAsXG4gICAgY29sbGVjdGlvblNsdWcsXG4gICAgZGF0YSxcbiAgICBmaWVsZCxcbiAgICBmaWVsZFNjaGVtYU1hcCxcbiAgICBmaWx0ZXIsXG4gICAgZm9yY2VGdWxsVmFsdWUgPSBmYWxzZSxcbiAgICBmdWxsRGF0YSxcbiAgICBpbmNsdWRlU2NoZW1hID0gZmFsc2UsXG4gICAgaW5kZXhQYXRoLFxuICAgIG1vY2tSU0NzLFxuICAgIG9taXRQYXJlbnRzID0gZmFsc2UsXG4gICAgb3BlcmF0aW9uLFxuICAgIHBhcmVudFBhdGgsXG4gICAgcGFyZW50UGVybWlzc2lvbnMsXG4gICAgcGFyZW50U2NoZW1hUGF0aCxcbiAgICBwYXNzZXNDb25kaXRpb24sXG4gICAgcGF0aCxcbiAgICBwcmVmZXJlbmNlcyxcbiAgICBwcmV2aW91c0Zvcm1TdGF0ZSxcbiAgICByZWFkT25seSxcbiAgICByZW5kZXJBbGxGaWVsZHMsXG4gICAgcmVuZGVyRmllbGRGbixcbiAgICByZXEsXG4gICAgc2NoZW1hUGF0aCxcbiAgICBzZWxlY3QsXG4gICAgc2VsZWN0TW9kZSxcbiAgICBza2lwQ29uZGl0aW9uQ2hlY2tzID0gZmFsc2UsXG4gICAgc2tpcFZhbGlkYXRpb24gPSBmYWxzZSxcbiAgICBzdGF0ZVxuICB9ID0gYXJncztcbiAgaWYgKCFhcmdzLmNsaWVudEZpZWxkU2NoZW1hTWFwICYmIGFyZ3MucmVuZGVyRmllbGRGbikge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgY29uc29sZS53YXJuKCdjbGllbnRGaWVsZFNjaGVtYU1hcCBpcyBub3QgcGFzc2VkIHRvIGFkZEZpZWxkU3RhdGVQcm9taXNlIC0gdGhpcyB3aWxsIHJlZHVjZSBwZXJmb3JtYW5jZScpO1xuICB9XG4gIGxldCBmaWVsZFBlcm1pc3Npb25zID0gdHJ1ZTtcbiAgY29uc3QgZmllbGRTdGF0ZSA9IHt9O1xuICBjb25zdCBsYXN0UmVuZGVyZWRQYXRoID0gcHJldmlvdXNGb3JtU3RhdGU/LltwYXRoXT8ubGFzdFJlbmRlcmVkUGF0aDtcbiAgLy8gQXBwZW5kIG9ubHkgaWYgdHJ1ZSB0byBhdm9pZCBzZW5kaW5nICckdW5kZWZpbmVkJyB0aHJvdWdoIHRoZSBuZXR3b3JrXG4gIGlmIChsYXN0UmVuZGVyZWRQYXRoKSB7XG4gICAgZmllbGRTdGF0ZS5sYXN0UmVuZGVyZWRQYXRoID0gbGFzdFJlbmRlcmVkUGF0aDtcbiAgfVxuICAvLyBJZiB3ZSdyZSByZW5kZXJpbmcgYWxsIGZpZWxkcywgbm8gbmVlZCB0byBmbGFnIHRoaXMgYXMgYWRkZWQgYnkgc2VydmVyXG4gIGNvbnN0IGFkZGVkQnlTZXJ2ZXIgPSAhcmVuZGVyQWxsRmllbGRzICYmICFwcmV2aW91c0Zvcm1TdGF0ZT8uW3BhdGhdO1xuICAvLyBBcHBlbmQgb25seSBpZiB0cnVlIHRvIGF2b2lkIHNlbmRpbmcgJyR1bmRlZmluZWQnIHRocm91Z2ggdGhlIG5ldHdvcmtcbiAgaWYgKGFkZGVkQnlTZXJ2ZXIpIHtcbiAgICBmaWVsZFN0YXRlLmFkZGVkQnlTZXJ2ZXIgPSB0cnVlO1xuICB9XG4gIC8vIEFwcGVuZCBvbmx5IGlmIHRydWUgdG8gYXZvaWQgc2VuZGluZyAnJHVuZGVmaW5lZCcgdGhyb3VnaCB0aGUgbmV0d29ya1xuICBpZiAocGFzc2VzQ29uZGl0aW9uID09PSBmYWxzZSkge1xuICAgIGZpZWxkU3RhdGUucGFzc2VzQ29uZGl0aW9uID0gZmFsc2U7XG4gIH1cbiAgLy8gQXBwZW5kIG9ubHkgaWYgdHJ1ZSB0byBhdm9pZCBzZW5kaW5nICckdW5kZWZpbmVkJyB0aHJvdWdoIHRoZSBuZXR3b3JrXG4gIGlmIChpbmNsdWRlU2NoZW1hKSB7XG4gICAgZmllbGRTdGF0ZS5maWVsZFNjaGVtYSA9IGZpZWxkO1xuICB9XG4gIGlmIChmaWVsZEFmZmVjdHNEYXRhKGZpZWxkKSAmJiAhZmllbGRJc0hpZGRlbk9yRGlzYWJsZWQoZmllbGQpKSB7XG4gICAgZmllbGRQZXJtaXNzaW9ucyA9IHBhcmVudFBlcm1pc3Npb25zID09PSB0cnVlID8gcGFyZW50UGVybWlzc2lvbnMgOiBkZWVwQ29weU9iamVjdFNpbXBsZShwYXJlbnRQZXJtaXNzaW9ucz8uW2ZpZWxkLm5hbWVdKTtcbiAgICBsZXQgaGFzUGVybWlzc2lvbiA9IGZpZWxkUGVybWlzc2lvbnMgPT09IHRydWUgfHwgZGVlcENvcHlPYmplY3RTaW1wbGUoZmllbGRQZXJtaXNzaW9ucz8ucmVhZCk7XG4gICAgaWYgKHR5cGVvZiBmaWVsZD8uYWNjZXNzPy5yZWFkID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBoYXNQZXJtaXNzaW9uID0gYXdhaXQgZmllbGQuYWNjZXNzLnJlYWQoe1xuICAgICAgICBpZCxcbiAgICAgICAgYmxvY2tEYXRhLFxuICAgICAgICBkYXRhOiBmdWxsRGF0YSxcbiAgICAgICAgcmVxLFxuICAgICAgICBzaWJsaW5nRGF0YTogZGF0YVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhhc1Blcm1pc3Npb24gPSB0cnVlO1xuICAgIH1cbiAgICBpZiAoIWhhc1Blcm1pc3Npb24pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdmFsaWRhdGUgPSBmaWVsZC52YWxpZGF0ZTtcbiAgICBsZXQgdmFsaWRhdGlvblJlc3VsdCA9IHRydWU7XG4gICAgaWYgKHR5cGVvZiB2YWxpZGF0ZSA9PT0gJ2Z1bmN0aW9uJyAmJiAhc2tpcFZhbGlkYXRpb24gJiYgcGFzc2VzQ29uZGl0aW9uKSB7XG4gICAgICBsZXQganNvbkVycm9yO1xuICAgICAgaWYgKGZpZWxkLnR5cGUgPT09ICdqc29uJyAmJiB0eXBlb2YgZGF0YVtmaWVsZC5uYW1lXSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBKU09OLnBhcnNlKGRhdGFbZmllbGQubmFtZV0pO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAganNvbkVycm9yID0gZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgdmFsaWRhdGlvblJlc3VsdCA9IGF3YWl0IHZhbGlkYXRlKGRhdGE/LltmaWVsZC5uYW1lXSwge1xuICAgICAgICAgIC4uLmZpZWxkLFxuICAgICAgICAgIGlkLFxuICAgICAgICAgIGJsb2NrRGF0YSxcbiAgICAgICAgICBjb2xsZWN0aW9uU2x1ZyxcbiAgICAgICAgICBkYXRhOiBmdWxsRGF0YSxcbiAgICAgICAgICBldmVudDogJ29uQ2hhbmdlJyxcbiAgICAgICAgICAvLyBAQWxlc3Npb0dyIGFkZGVkIGBqc29uRXJyb3JgIGluIGh0dHBzOi8vZ2l0aHViLmNvbS9wYXlsb2FkY21zL3BheWxvYWQvY29tbWl0L2M3ZWE2MmEzOTQ3MzQwOGMzZWE5MTJjNGZiZjczZTExYmU0YjUzOGRcbiAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yLW5leHQtbGluZVxuICAgICAgICAgIGpzb25FcnJvcixcbiAgICAgICAgICBvcGVyYXRpb24sXG4gICAgICAgICAgcHJlZmVyZW5jZXMsXG4gICAgICAgICAgcHJldmlvdXNWYWx1ZTogcHJldmlvdXNGb3JtU3RhdGU/LltwYXRoXT8uaW5pdGlhbFZhbHVlLFxuICAgICAgICAgIHJlcSxcbiAgICAgICAgICBzaWJsaW5nRGF0YTogZGF0YVxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICB2YWxpZGF0aW9uUmVzdWx0ID0gYEVycm9yIHZhbGlkYXRpbmcgZmllbGQgYXQgcGF0aDogJHtwYXRofWA7XG4gICAgICAgIHJlcS5wYXlsb2FkLmxvZ2dlci5lcnJvcih7XG4gICAgICAgICAgZXJyLFxuICAgICAgICAgIG1zZzogdmFsaWRhdGlvblJlc3VsdFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgYWRkRXJyb3JQYXRoVG9QYXJlbnQgPSBlcnJvclBhdGggPT4ge1xuICAgICAgaWYgKHR5cGVvZiBhZGRFcnJvclBhdGhUb1BhcmVudEFyZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBhZGRFcnJvclBhdGhUb1BhcmVudEFyZyhlcnJvclBhdGgpO1xuICAgICAgfVxuICAgICAgaWYgKCFmaWVsZFN0YXRlLmVycm9yUGF0aHMpIHtcbiAgICAgICAgZmllbGRTdGF0ZS5lcnJvclBhdGhzID0gW107XG4gICAgICB9XG4gICAgICBpZiAoIWZpZWxkU3RhdGUuZXJyb3JQYXRocy5pbmNsdWRlcyhlcnJvclBhdGgpKSB7XG4gICAgICAgIGZpZWxkU3RhdGUuZXJyb3JQYXRocy5wdXNoKGVycm9yUGF0aCk7XG4gICAgICAgIGZpZWxkU3RhdGUudmFsaWQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGlmICh0eXBlb2YgdmFsaWRhdGlvblJlc3VsdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGZpZWxkU3RhdGUuZXJyb3JNZXNzYWdlID0gdmFsaWRhdGlvblJlc3VsdDtcbiAgICAgIGZpZWxkU3RhdGUudmFsaWQgPSBmYWxzZTtcbiAgICAgIGFkZEVycm9yUGF0aFRvUGFyZW50KHBhdGgpO1xuICAgIH1cbiAgICBzd2l0Y2ggKGZpZWxkLnR5cGUpIHtcbiAgICAgIGNhc2UgJ2FycmF5JzpcbiAgICAgICAge1xuICAgICAgICAgIGNvbnN0IGFycmF5VmFsdWUgPSBBcnJheS5pc0FycmF5KGRhdGFbZmllbGQubmFtZV0pID8gZGF0YVtmaWVsZC5uYW1lXSA6IFtdO1xuICAgICAgICAgIGNvbnN0IGFycmF5U2VsZWN0ID0gc2VsZWN0Py5bZmllbGQubmFtZV07XG4gICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgcHJvbWlzZXMsXG4gICAgICAgICAgICByb3dzXG4gICAgICAgICAgfSA9IGFycmF5VmFsdWUucmVkdWNlKChhY2MsIHJvdywgaSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGFyZW50UGF0aCA9IHBhdGggKyAnLicgKyBpO1xuICAgICAgICAgICAgcm93LmlkID0gcm93Py5pZCB8fCBuZXcgT2JqZWN0SWQoKS50b0hleFN0cmluZygpO1xuICAgICAgICAgICAgaWYgKCFvbWl0UGFyZW50cyAmJiAoIWZpbHRlciB8fCBmaWx0ZXIoYXJncykpKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGlkS2V5ID0gcGFyZW50UGF0aCArICcuaWQnO1xuICAgICAgICAgICAgICBzdGF0ZVtpZEtleV0gPSB7XG4gICAgICAgICAgICAgICAgaW5pdGlhbFZhbHVlOiByb3cuaWQsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHJvdy5pZFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBpZiAoaW5jbHVkZVNjaGVtYSkge1xuICAgICAgICAgICAgICAgIHN0YXRlW2lkS2V5XS5maWVsZFNjaGVtYSA9IGZpZWxkLmZpZWxkcy5maW5kKGZpZWxkID0+IGZpZWxkSXNJRChmaWVsZCkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhY2MucHJvbWlzZXMucHVzaChpdGVyYXRlRmllbGRzKHtcbiAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgIGFkZEVycm9yUGF0aFRvUGFyZW50LFxuICAgICAgICAgICAgICBhbnlQYXJlbnRMb2NhbGl6ZWQ6IGZpZWxkLmxvY2FsaXplZCB8fCBhbnlQYXJlbnRMb2NhbGl6ZWQsXG4gICAgICAgICAgICAgIGJsb2NrRGF0YSxcbiAgICAgICAgICAgICAgY2xpZW50RmllbGRTY2hlbWFNYXAsXG4gICAgICAgICAgICAgIGNvbGxlY3Rpb25TbHVnLFxuICAgICAgICAgICAgICBkYXRhOiByb3csXG4gICAgICAgICAgICAgIGZpZWxkczogZmllbGQuZmllbGRzLFxuICAgICAgICAgICAgICBmaWVsZFNjaGVtYU1hcCxcbiAgICAgICAgICAgICAgZmlsdGVyLFxuICAgICAgICAgICAgICBmb3JjZUZ1bGxWYWx1ZSxcbiAgICAgICAgICAgICAgZnVsbERhdGEsXG4gICAgICAgICAgICAgIGluY2x1ZGVTY2hlbWEsXG4gICAgICAgICAgICAgIG1vY2tSU0NzLFxuICAgICAgICAgICAgICBvbWl0UGFyZW50cyxcbiAgICAgICAgICAgICAgb3BlcmF0aW9uLFxuICAgICAgICAgICAgICBwYXJlbnRJbmRleFBhdGg6ICcnLFxuICAgICAgICAgICAgICBwYXJlbnRQYXNzZXNDb25kaXRpb246IHBhc3Nlc0NvbmRpdGlvbixcbiAgICAgICAgICAgICAgcGFyZW50UGF0aCxcbiAgICAgICAgICAgICAgcGFyZW50U2NoZW1hUGF0aDogc2NoZW1hUGF0aCxcbiAgICAgICAgICAgICAgcGVybWlzc2lvbnM6IGZpZWxkUGVybWlzc2lvbnMgPT09IHRydWUgPyBmaWVsZFBlcm1pc3Npb25zIDogZmllbGRQZXJtaXNzaW9ucz8uZmllbGRzIHx8IHt9LFxuICAgICAgICAgICAgICBwcmVmZXJlbmNlcyxcbiAgICAgICAgICAgICAgcHJldmlvdXNGb3JtU3RhdGUsXG4gICAgICAgICAgICAgIHJlYWRPbmx5LFxuICAgICAgICAgICAgICByZW5kZXJBbGxGaWVsZHMsXG4gICAgICAgICAgICAgIHJlbmRlckZpZWxkRm4sXG4gICAgICAgICAgICAgIHJlcSxcbiAgICAgICAgICAgICAgc2VsZWN0OiB0eXBlb2YgYXJyYXlTZWxlY3QgPT09ICdvYmplY3QnID8gYXJyYXlTZWxlY3QgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgIHNlbGVjdE1vZGUsXG4gICAgICAgICAgICAgIHNraXBDb25kaXRpb25DaGVja3MsXG4gICAgICAgICAgICAgIHNraXBWYWxpZGF0aW9uLFxuICAgICAgICAgICAgICBzdGF0ZVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgaWYgKCFhY2Mucm93cykge1xuICAgICAgICAgICAgICBhY2Mucm93cyA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRmlyc3QsIGNoZWNrIGlmIGBwcmV2aW91c0Zvcm1TdGF0ZWAgaGFzIGEgbWF0Y2hpbmcgcm93XG4gICAgICAgICAgICBjb25zdCBwcmV2aW91c1JvdyA9IChwcmV2aW91c0Zvcm1TdGF0ZT8uW3BhdGhdPy5yb3dzIHx8IFtdKS5maW5kKHByZXZSb3cgPT4gcHJldlJvdy5pZCA9PT0gcm93LmlkKTtcbiAgICAgICAgICAgIGNvbnN0IG5ld1JvdyA9IHtcbiAgICAgICAgICAgICAgaWQ6IHJvdy5pZCxcbiAgICAgICAgICAgICAgaXNMb2FkaW5nOiBmYWxzZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChwcmV2aW91c1Jvdz8ubGFzdFJlbmRlcmVkUGF0aCkge1xuICAgICAgICAgICAgICBuZXdSb3cubGFzdFJlbmRlcmVkUGF0aCA9IHByZXZpb3VzUm93Lmxhc3RSZW5kZXJlZFBhdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBhZGQgYWRkZWRCeVNlcnZlciBmbGFnXG4gICAgICAgICAgICBpZiAoIXByZXZpb3VzUm93KSB7XG4gICAgICAgICAgICAgIG5ld1Jvdy5hZGRlZEJ5U2VydmVyID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGlzQ29sbGFwc2VkID0gaXNSb3dDb2xsYXBzZWQoe1xuICAgICAgICAgICAgICBjb2xsYXBzZWRQcmVmczogcHJlZmVyZW5jZXM/LmZpZWxkcz8uW3BhdGhdPy5jb2xsYXBzZWQsXG4gICAgICAgICAgICAgIGZpZWxkLFxuICAgICAgICAgICAgICBwcmV2aW91c1JvdyxcbiAgICAgICAgICAgICAgcm93XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChpc0NvbGxhcHNlZCkge1xuICAgICAgICAgICAgICBuZXdSb3cuY29sbGFwc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFjYy5yb3dzLnB1c2gobmV3Um93KTtcbiAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgcHJvbWlzZXM6IFtdLFxuICAgICAgICAgICAgcm93czogdW5kZWZpbmVkXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgLy8gV2FpdCBmb3IgYWxsIHByb21pc2VzIGFuZCB1cGRhdGUgZmllbGRzIHdpdGggdGhlIHJlc3VsdHNcbiAgICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gICAgICAgICAgaWYgKHJvd3MpIHtcbiAgICAgICAgICAgIGZpZWxkU3RhdGUucm93cyA9IHJvd3M7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIEFkZCB2YWx1ZXMgdG8gZmllbGQgc3RhdGVcbiAgICAgICAgICBpZiAoZGF0YVtmaWVsZC5uYW1lXSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgZmllbGRTdGF0ZS52YWx1ZSA9IGZvcmNlRnVsbFZhbHVlID8gYXJyYXlWYWx1ZSA6IGFycmF5VmFsdWUubGVuZ3RoO1xuICAgICAgICAgICAgZmllbGRTdGF0ZS5pbml0aWFsVmFsdWUgPSBmb3JjZUZ1bGxWYWx1ZSA/IGFycmF5VmFsdWUgOiBhcnJheVZhbHVlLmxlbmd0aDtcbiAgICAgICAgICAgIGlmIChhcnJheVZhbHVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgZmllbGRTdGF0ZS5kaXNhYmxlRm9ybURhdGEgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBBZGQgZmllbGQgdG8gc3RhdGVcbiAgICAgICAgICBpZiAoIW9taXRQYXJlbnRzICYmICghZmlsdGVyIHx8IGZpbHRlcihhcmdzKSkpIHtcbiAgICAgICAgICAgIHN0YXRlW3BhdGhdID0gZmllbGRTdGF0ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIGNhc2UgJ2Jsb2Nrcyc6XG4gICAgICAgIHtcbiAgICAgICAgICBjb25zdCBibG9ja3NWYWx1ZSA9IEFycmF5LmlzQXJyYXkoZGF0YVtmaWVsZC5uYW1lXSkgPyBkYXRhW2ZpZWxkLm5hbWVdIDogW107XG4gICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgcHJvbWlzZXMsXG4gICAgICAgICAgICByb3dNZXRhZGF0YVxuICAgICAgICAgIH0gPSBibG9ja3NWYWx1ZS5yZWR1Y2UoKGFjYywgcm93LCBpKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBibG9ja1R5cGVUb01hdGNoID0gcm93LmJsb2NrVHlwZTtcbiAgICAgICAgICAgIGNvbnN0IGJsb2NrID0gcmVxLnBheWxvYWQuYmxvY2tzW2Jsb2NrVHlwZVRvTWF0Y2hdID8/IChmaWVsZC5ibG9ja1JlZmVyZW5jZXMgPz8gZmllbGQuYmxvY2tzKS5maW5kKGJsb2NrVHlwZSA9PiB0eXBlb2YgYmxvY2tUeXBlICE9PSAnc3RyaW5nJyAmJiBibG9ja1R5cGUuc2x1ZyA9PT0gYmxvY2tUeXBlVG9NYXRjaCk7XG4gICAgICAgICAgICBpZiAoIWJsb2NrKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQmxvY2sgd2l0aCB0eXBlIFwiJHtyb3cuYmxvY2tUeXBlfVwiIHdhcyBmb3VuZCBpbiBibG9jayBkYXRhLCBidXQgbm8gYmxvY2sgd2l0aCB0aGF0IHR5cGUgaXMgZGVmaW5lZCBpbiB0aGUgY29uZmlnIGZvciBmaWVsZCB3aXRoIHNjaGVtYSBwYXRoICR7c2NoZW1hUGF0aH0uYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICAgIGJsb2NrU2VsZWN0LFxuICAgICAgICAgICAgICBibG9ja1NlbGVjdE1vZGVcbiAgICAgICAgICAgIH0gPSBnZXRCbG9ja1NlbGVjdCh7XG4gICAgICAgICAgICAgIGJsb2NrLFxuICAgICAgICAgICAgICBzZWxlY3Q6IHNlbGVjdD8uW2ZpZWxkLm5hbWVdLFxuICAgICAgICAgICAgICBzZWxlY3RNb2RlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudFBhdGggPSBwYXRoICsgJy4nICsgaTtcbiAgICAgICAgICAgIGlmIChibG9jaykge1xuICAgICAgICAgICAgICByb3cuaWQgPSByb3c/LmlkIHx8IG5ldyBPYmplY3RJZCgpLnRvSGV4U3RyaW5nKCk7XG4gICAgICAgICAgICAgIGlmICghb21pdFBhcmVudHMgJiYgKCFmaWx0ZXIgfHwgZmlsdGVyKGFyZ3MpKSkge1xuICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBibG9jayBgaWRgIGZpZWxkXG4gICAgICAgICAgICAgICAgY29uc3QgaWRLZXkgPSBwYXJlbnRQYXRoICsgJy5pZCc7XG4gICAgICAgICAgICAgICAgc3RhdGVbaWRLZXldID0ge1xuICAgICAgICAgICAgICAgICAgaW5pdGlhbFZhbHVlOiByb3cuaWQsXG4gICAgICAgICAgICAgICAgICB2YWx1ZTogcm93LmlkXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZiAoaW5jbHVkZVNjaGVtYSkge1xuICAgICAgICAgICAgICAgICAgc3RhdGVbaWRLZXldLmZpZWxkU2NoZW1hID0gaW5jbHVkZVNjaGVtYSA/IGJsb2NrLmZpZWxkcy5maW5kKGJsb2NrRmllbGQgPT4gZmllbGRJc0lEKGJsb2NrRmllbGQpKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gSGFuZGxlIGBibG9ja1R5cGVgIGZpZWxkXG4gICAgICAgICAgICAgICAgY29uc3QgZmllbGRLZXkgPSBwYXJlbnRQYXRoICsgJy5ibG9ja1R5cGUnO1xuICAgICAgICAgICAgICAgIHN0YXRlW2ZpZWxkS2V5XSA9IHtcbiAgICAgICAgICAgICAgICAgIGluaXRpYWxWYWx1ZTogcm93LmJsb2NrVHlwZSxcbiAgICAgICAgICAgICAgICAgIHZhbHVlOiByb3cuYmxvY2tUeXBlXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZiAoYWRkZWRCeVNlcnZlcikge1xuICAgICAgICAgICAgICAgICAgc3RhdGVbZmllbGRLZXldLmFkZGVkQnlTZXJ2ZXIgPSBhZGRlZEJ5U2VydmVyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaW5jbHVkZVNjaGVtYSkge1xuICAgICAgICAgICAgICAgICAgc3RhdGVbZmllbGRLZXldLmZpZWxkU2NoZW1hID0gYmxvY2suZmllbGRzLmZpbmQoYmxvY2tGaWVsZCA9PiAnbmFtZScgaW4gYmxvY2tGaWVsZCAmJiBibG9ja0ZpZWxkLm5hbWUgPT09ICdibG9ja1R5cGUnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gSGFuZGxlIGBibG9ja05hbWVgIGZpZWxkXG4gICAgICAgICAgICAgICAgY29uc3QgYmxvY2tOYW1lS2V5ID0gcGFyZW50UGF0aCArICcuYmxvY2tOYW1lJztcbiAgICAgICAgICAgICAgICBzdGF0ZVtibG9ja05hbWVLZXldID0ge307XG4gICAgICAgICAgICAgICAgaWYgKHJvdy5ibG9ja05hbWUpIHtcbiAgICAgICAgICAgICAgICAgIHN0YXRlW2Jsb2NrTmFtZUtleV0uaW5pdGlhbFZhbHVlID0gcm93LmJsb2NrTmFtZTtcbiAgICAgICAgICAgICAgICAgIHN0YXRlW2Jsb2NrTmFtZUtleV0udmFsdWUgPSByb3cuYmxvY2tOYW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaW5jbHVkZVNjaGVtYSkge1xuICAgICAgICAgICAgICAgICAgc3RhdGVbYmxvY2tOYW1lS2V5XS5maWVsZFNjaGVtYSA9IGJsb2NrLmZpZWxkcy5maW5kKGJsb2NrRmllbGQgPT4gJ25hbWUnIGluIGJsb2NrRmllbGQgJiYgYmxvY2tGaWVsZC5uYW1lID09PSAnYmxvY2tOYW1lJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGFjYy5wcm9taXNlcy5wdXNoKGl0ZXJhdGVGaWVsZHMoe1xuICAgICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICAgIGFkZEVycm9yUGF0aFRvUGFyZW50LFxuICAgICAgICAgICAgICAgIGFueVBhcmVudExvY2FsaXplZDogZmllbGQubG9jYWxpemVkIHx8IGFueVBhcmVudExvY2FsaXplZCxcbiAgICAgICAgICAgICAgICBibG9ja0RhdGE6IHJvdyxcbiAgICAgICAgICAgICAgICBjbGllbnRGaWVsZFNjaGVtYU1hcCxcbiAgICAgICAgICAgICAgICBjb2xsZWN0aW9uU2x1ZyxcbiAgICAgICAgICAgICAgICBkYXRhOiByb3csXG4gICAgICAgICAgICAgICAgZmllbGRzOiBibG9jay5maWVsZHMsXG4gICAgICAgICAgICAgICAgZmllbGRTY2hlbWFNYXAsXG4gICAgICAgICAgICAgICAgZmlsdGVyLFxuICAgICAgICAgICAgICAgIGZvcmNlRnVsbFZhbHVlLFxuICAgICAgICAgICAgICAgIGZ1bGxEYXRhLFxuICAgICAgICAgICAgICAgIGluY2x1ZGVTY2hlbWEsXG4gICAgICAgICAgICAgICAgbW9ja1JTQ3MsXG4gICAgICAgICAgICAgICAgb21pdFBhcmVudHMsXG4gICAgICAgICAgICAgICAgb3BlcmF0aW9uLFxuICAgICAgICAgICAgICAgIHBhcmVudEluZGV4UGF0aDogJycsXG4gICAgICAgICAgICAgICAgcGFyZW50UGFzc2VzQ29uZGl0aW9uOiBwYXNzZXNDb25kaXRpb24sXG4gICAgICAgICAgICAgICAgcGFyZW50UGF0aCxcbiAgICAgICAgICAgICAgICBwYXJlbnRTY2hlbWFQYXRoOiBzY2hlbWFQYXRoICsgJy4nICsgYmxvY2suc2x1ZyxcbiAgICAgICAgICAgICAgICBwZXJtaXNzaW9uczogZmllbGRQZXJtaXNzaW9ucyA9PT0gdHJ1ZSA/IGZpZWxkUGVybWlzc2lvbnMgOiBwYXJlbnRQZXJtaXNzaW9ucz8uW2ZpZWxkLm5hbWVdPy5ibG9ja3M/LltibG9jay5zbHVnXSA9PT0gdHJ1ZSA/IHRydWUgOiBwYXJlbnRQZXJtaXNzaW9ucz8uW2ZpZWxkLm5hbWVdPy5ibG9ja3M/LltibG9jay5zbHVnXT8uZmllbGRzIHx8IHt9LFxuICAgICAgICAgICAgICAgIHByZWZlcmVuY2VzLFxuICAgICAgICAgICAgICAgIHByZXZpb3VzRm9ybVN0YXRlLFxuICAgICAgICAgICAgICAgIHJlYWRPbmx5LFxuICAgICAgICAgICAgICAgIHJlbmRlckFsbEZpZWxkcyxcbiAgICAgICAgICAgICAgICByZW5kZXJGaWVsZEZuLFxuICAgICAgICAgICAgICAgIHJlcSxcbiAgICAgICAgICAgICAgICBzZWxlY3Q6IHR5cGVvZiBibG9ja1NlbGVjdCA9PT0gJ29iamVjdCcgPyBibG9ja1NlbGVjdCA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBzZWxlY3RNb2RlOiBibG9ja1NlbGVjdE1vZGUsXG4gICAgICAgICAgICAgICAgc2tpcENvbmRpdGlvbkNoZWNrcyxcbiAgICAgICAgICAgICAgICBza2lwVmFsaWRhdGlvbixcbiAgICAgICAgICAgICAgICBzdGF0ZVxuICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgIC8vIEZpcnN0LCBjaGVjayBpZiBgcHJldmlvdXNGb3JtU3RhdGVgIGhhcyBhIG1hdGNoaW5nIHJvd1xuICAgICAgICAgICAgICBjb25zdCBwcmV2aW91c1JvdyA9IChwcmV2aW91c0Zvcm1TdGF0ZT8uW3BhdGhdPy5yb3dzIHx8IFtdKS5maW5kKHByZXZSb3cgPT4gcHJldlJvdy5pZCA9PT0gcm93LmlkKTtcbiAgICAgICAgICAgICAgY29uc3QgbmV3Um93ID0ge1xuICAgICAgICAgICAgICAgIGlkOiByb3cuaWQsXG4gICAgICAgICAgICAgICAgYmxvY2tUeXBlOiByb3cuYmxvY2tUeXBlLFxuICAgICAgICAgICAgICAgIGlzTG9hZGluZzogZmFsc2VcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgaWYgKHByZXZpb3VzUm93Py5sYXN0UmVuZGVyZWRQYXRoKSB7XG4gICAgICAgICAgICAgICAgbmV3Um93Lmxhc3RSZW5kZXJlZFBhdGggPSBwcmV2aW91c1Jvdy5sYXN0UmVuZGVyZWRQYXRoO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGFjYy5yb3dNZXRhZGF0YS5wdXNoKG5ld1Jvdyk7XG4gICAgICAgICAgICAgIGNvbnN0IGlzQ29sbGFwc2VkID0gaXNSb3dDb2xsYXBzZWQoe1xuICAgICAgICAgICAgICAgIGNvbGxhcHNlZFByZWZzOiBwcmVmZXJlbmNlcz8uZmllbGRzPy5bcGF0aF0/LmNvbGxhcHNlZCxcbiAgICAgICAgICAgICAgICBmaWVsZCxcbiAgICAgICAgICAgICAgICBwcmV2aW91c1JvdyxcbiAgICAgICAgICAgICAgICByb3dcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGlmIChpc0NvbGxhcHNlZCkge1xuICAgICAgICAgICAgICAgIGFjYy5yb3dNZXRhZGF0YVthY2Mucm93TWV0YWRhdGEubGVuZ3RoIC0gMV0uY29sbGFwc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBwcm9taXNlczogW10sXG4gICAgICAgICAgICByb3dNZXRhZGF0YTogW11cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gICAgICAgICAgLy8gQWRkIHZhbHVlcyB0byBmaWVsZCBzdGF0ZVxuICAgICAgICAgIGlmIChkYXRhW2ZpZWxkLm5hbWVdID09PSBudWxsKSB7XG4gICAgICAgICAgICBmaWVsZFN0YXRlLnZhbHVlID0gbnVsbDtcbiAgICAgICAgICAgIGZpZWxkU3RhdGUuaW5pdGlhbFZhbHVlID0gbnVsbDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZmllbGRTdGF0ZS52YWx1ZSA9IGZvcmNlRnVsbFZhbHVlID8gYmxvY2tzVmFsdWUgOiBibG9ja3NWYWx1ZS5sZW5ndGg7XG4gICAgICAgICAgICBmaWVsZFN0YXRlLmluaXRpYWxWYWx1ZSA9IGZvcmNlRnVsbFZhbHVlID8gYmxvY2tzVmFsdWUgOiBibG9ja3NWYWx1ZS5sZW5ndGg7XG4gICAgICAgICAgICBpZiAoYmxvY2tzVmFsdWUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICBmaWVsZFN0YXRlLmRpc2FibGVGb3JtRGF0YSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGZpZWxkU3RhdGUucm93cyA9IHJvd01ldGFkYXRhO1xuICAgICAgICAgIC8vIEFkZCBmaWVsZCB0byBzdGF0ZVxuICAgICAgICAgIGlmICghb21pdFBhcmVudHMgJiYgKCFmaWx0ZXIgfHwgZmlsdGVyKGFyZ3MpKSkge1xuICAgICAgICAgICAgc3RhdGVbcGF0aF0gPSBmaWVsZFN0YXRlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgY2FzZSAnZ3JvdXAnOlxuICAgICAgICB7XG4gICAgICAgICAgaWYgKCFmaWx0ZXIgfHwgZmlsdGVyKGFyZ3MpKSB7XG4gICAgICAgICAgICBmaWVsZFN0YXRlLmRpc2FibGVGb3JtRGF0YSA9IHRydWU7XG4gICAgICAgICAgICBzdGF0ZVtwYXRoXSA9IGZpZWxkU3RhdGU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGdyb3VwU2VsZWN0ID0gc2VsZWN0Py5bZmllbGQubmFtZV07XG4gICAgICAgICAgYXdhaXQgaXRlcmF0ZUZpZWxkcyh7XG4gICAgICAgICAgICBpZCxcbiAgICAgICAgICAgIGFkZEVycm9yUGF0aFRvUGFyZW50LFxuICAgICAgICAgICAgYW55UGFyZW50TG9jYWxpemVkOiBmaWVsZC5sb2NhbGl6ZWQgfHwgYW55UGFyZW50TG9jYWxpemVkLFxuICAgICAgICAgICAgYmxvY2tEYXRhLFxuICAgICAgICAgICAgY2xpZW50RmllbGRTY2hlbWFNYXAsXG4gICAgICAgICAgICBjb2xsZWN0aW9uU2x1ZyxcbiAgICAgICAgICAgIGRhdGE6IGRhdGE/LltmaWVsZC5uYW1lXSB8fCB7fSxcbiAgICAgICAgICAgIGZpZWxkczogZmllbGQuZmllbGRzLFxuICAgICAgICAgICAgZmllbGRTY2hlbWFNYXAsXG4gICAgICAgICAgICBmaWx0ZXIsXG4gICAgICAgICAgICBmb3JjZUZ1bGxWYWx1ZSxcbiAgICAgICAgICAgIGZ1bGxEYXRhLFxuICAgICAgICAgICAgaW5jbHVkZVNjaGVtYSxcbiAgICAgICAgICAgIG1vY2tSU0NzLFxuICAgICAgICAgICAgb21pdFBhcmVudHMsXG4gICAgICAgICAgICBvcGVyYXRpb24sXG4gICAgICAgICAgICBwYXJlbnRJbmRleFBhdGg6ICcnLFxuICAgICAgICAgICAgcGFyZW50UGFzc2VzQ29uZGl0aW9uOiBwYXNzZXNDb25kaXRpb24sXG4gICAgICAgICAgICBwYXJlbnRQYXRoOiBwYXRoLFxuICAgICAgICAgICAgcGFyZW50U2NoZW1hUGF0aDogc2NoZW1hUGF0aCxcbiAgICAgICAgICAgIHBlcm1pc3Npb25zOiB0eXBlb2YgZmllbGRQZXJtaXNzaW9ucyA9PT0gJ2Jvb2xlYW4nID8gZmllbGRQZXJtaXNzaW9ucyA6IGZpZWxkUGVybWlzc2lvbnM/LmZpZWxkcyxcbiAgICAgICAgICAgIHByZWZlcmVuY2VzLFxuICAgICAgICAgICAgcHJldmlvdXNGb3JtU3RhdGUsXG4gICAgICAgICAgICByZWFkT25seSxcbiAgICAgICAgICAgIHJlbmRlckFsbEZpZWxkcyxcbiAgICAgICAgICAgIHJlbmRlckZpZWxkRm4sXG4gICAgICAgICAgICByZXEsXG4gICAgICAgICAgICBzZWxlY3Q6IHR5cGVvZiBncm91cFNlbGVjdCA9PT0gJ29iamVjdCcgPyBncm91cFNlbGVjdCA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHNlbGVjdE1vZGUsXG4gICAgICAgICAgICBza2lwQ29uZGl0aW9uQ2hlY2tzLFxuICAgICAgICAgICAgc2tpcFZhbGlkYXRpb24sXG4gICAgICAgICAgICBzdGF0ZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICBjYXNlICdyZWxhdGlvbnNoaXAnOlxuICAgICAgY2FzZSAndXBsb2FkJzpcbiAgICAgICAge1xuICAgICAgICAgIGlmIChmaWVsZC5maWx0ZXJPcHRpb25zKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGZpZWxkLmZpbHRlck9wdGlvbnMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgZmllbGQucmVsYXRpb25UbyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBmaWVsZFN0YXRlLmZpbHRlck9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICBbZmllbGQucmVsYXRpb25Ub106IGZpZWxkLmZpbHRlck9wdGlvbnNcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZpZWxkU3RhdGUuZmlsdGVyT3B0aW9ucyA9IGZpZWxkLnJlbGF0aW9uVG8ucmVkdWNlKChhY2MsIHJlbGF0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgICBhY2NbcmVsYXRpb25dID0gZmllbGQuZmlsdGVyT3B0aW9ucztcbiAgICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgICAgICAgICAgfSwge30pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIGZpZWxkLmZpbHRlck9wdGlvbnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgY29uc3QgcXVlcnkgPSBhd2FpdCByZXNvbHZlRmlsdGVyT3B0aW9ucyhmaWVsZC5maWx0ZXJPcHRpb25zLCB7XG4gICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgYmxvY2tEYXRhLFxuICAgICAgICAgICAgICAgIGRhdGE6IGZ1bGxEYXRhLFxuICAgICAgICAgICAgICAgIHJlbGF0aW9uVG86IGZpZWxkLnJlbGF0aW9uVG8sXG4gICAgICAgICAgICAgICAgcmVxLFxuICAgICAgICAgICAgICAgIHNpYmxpbmdEYXRhOiBkYXRhLFxuICAgICAgICAgICAgICAgIHVzZXI6IHJlcS51c2VyXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBmaWVsZFN0YXRlLmZpbHRlck9wdGlvbnMgPSBxdWVyeTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGZpZWxkLmhhc01hbnkpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlbGF0aW9uc2hpcFZhbHVlID0gQXJyYXkuaXNBcnJheShkYXRhW2ZpZWxkLm5hbWVdKSA/IGRhdGFbZmllbGQubmFtZV0ubWFwKHJlbGF0aW9uc2hpcCA9PiB7XG4gICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGZpZWxkLnJlbGF0aW9uVG8pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgIHJlbGF0aW9uVG86IHJlbGF0aW9uc2hpcC5yZWxhdGlvblRvLFxuICAgICAgICAgICAgICAgICAgdmFsdWU6IHJlbGF0aW9uc2hpcC52YWx1ZSAmJiB0eXBlb2YgcmVsYXRpb25zaGlwLnZhbHVlID09PSAnb2JqZWN0JyA/IHJlbGF0aW9uc2hpcC52YWx1ZT8uaWQgOiByZWxhdGlvbnNoaXAudmFsdWVcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgcmVsYXRpb25zaGlwID09PSAnb2JqZWN0JyAmJiByZWxhdGlvbnNoaXAgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVsYXRpb25zaGlwLmlkO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiByZWxhdGlvbnNoaXA7XG4gICAgICAgICAgICB9KSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGZpZWxkU3RhdGUudmFsdWUgPSByZWxhdGlvbnNoaXBWYWx1ZTtcbiAgICAgICAgICAgIGZpZWxkU3RhdGUuaW5pdGlhbFZhbHVlID0gcmVsYXRpb25zaGlwVmFsdWU7XG4gICAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGZpZWxkLnJlbGF0aW9uVG8pKSB7XG4gICAgICAgICAgICBpZiAoZGF0YVtmaWVsZC5uYW1lXSAmJiB0eXBlb2YgZGF0YVtmaWVsZC5uYW1lXSA9PT0gJ29iamVjdCcgJiYgJ3JlbGF0aW9uVG8nIGluIGRhdGFbZmllbGQubmFtZV0gJiYgJ3ZhbHVlJyBpbiBkYXRhW2ZpZWxkLm5hbWVdKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gdHlwZW9mIGRhdGFbZmllbGQubmFtZV0/LnZhbHVlID09PSAnb2JqZWN0JyAmJiBkYXRhW2ZpZWxkLm5hbWVdPy52YWx1ZSAmJiAnaWQnIGluIGRhdGFbZmllbGQubmFtZV0udmFsdWUgPyBkYXRhW2ZpZWxkLm5hbWVdLnZhbHVlLmlkIDogZGF0YVtmaWVsZC5uYW1lXS52YWx1ZTtcbiAgICAgICAgICAgICAgY29uc3QgcmVsYXRpb25zaGlwVmFsdWUgPSB7XG4gICAgICAgICAgICAgICAgcmVsYXRpb25UbzogZGF0YVtmaWVsZC5uYW1lXT8ucmVsYXRpb25UbyxcbiAgICAgICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBmaWVsZFN0YXRlLnZhbHVlID0gcmVsYXRpb25zaGlwVmFsdWU7XG4gICAgICAgICAgICAgIGZpZWxkU3RhdGUuaW5pdGlhbFZhbHVlID0gcmVsYXRpb25zaGlwVmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHJlbGF0aW9uc2hpcFZhbHVlID0gZGF0YVtmaWVsZC5uYW1lXSAmJiB0eXBlb2YgZGF0YVtmaWVsZC5uYW1lXSA9PT0gJ29iamVjdCcgJiYgJ2lkJyBpbiBkYXRhW2ZpZWxkLm5hbWVdID8gZGF0YVtmaWVsZC5uYW1lXS5pZCA6IGRhdGFbZmllbGQubmFtZV07XG4gICAgICAgICAgICBmaWVsZFN0YXRlLnZhbHVlID0gcmVsYXRpb25zaGlwVmFsdWU7XG4gICAgICAgICAgICBmaWVsZFN0YXRlLmluaXRpYWxWYWx1ZSA9IHJlbGF0aW9uc2hpcFZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIWZpbHRlciB8fCBmaWx0ZXIoYXJncykpIHtcbiAgICAgICAgICAgIHN0YXRlW3BhdGhdID0gZmllbGRTdGF0ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIGNhc2UgJ3NlbGVjdCc6XG4gICAgICAgIHtcbiAgICAgICAgICBpZiAodHlwZW9mIGZpZWxkLmZpbHRlck9wdGlvbnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGZpZWxkU3RhdGUuc2VsZWN0RmlsdGVyT3B0aW9ucyA9IGZpZWxkLmZpbHRlck9wdGlvbnMoe1xuICAgICAgICAgICAgICBkYXRhOiBmdWxsRGF0YSxcbiAgICAgICAgICAgICAgb3B0aW9uczogZmllbGQub3B0aW9ucyxcbiAgICAgICAgICAgICAgcmVxLFxuICAgICAgICAgICAgICBzaWJsaW5nRGF0YTogZGF0YVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChkYXRhW2ZpZWxkLm5hbWVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGZpZWxkU3RhdGUudmFsdWUgPSBkYXRhW2ZpZWxkLm5hbWVdO1xuICAgICAgICAgICAgZmllbGRTdGF0ZS5pbml0aWFsVmFsdWUgPSBkYXRhW2ZpZWxkLm5hbWVdO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIWZpbHRlciB8fCBmaWx0ZXIoYXJncykpIHtcbiAgICAgICAgICAgIHN0YXRlW3BhdGhdID0gZmllbGRTdGF0ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHtcbiAgICAgICAgICBpZiAoZGF0YVtmaWVsZC5uYW1lXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBmaWVsZFN0YXRlLnZhbHVlID0gZGF0YVtmaWVsZC5uYW1lXTtcbiAgICAgICAgICAgIGZpZWxkU3RhdGUuaW5pdGlhbFZhbHVlID0gZGF0YVtmaWVsZC5uYW1lXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gQWRkIGZpZWxkIHRvIHN0YXRlXG4gICAgICAgICAgaWYgKCFmaWx0ZXIgfHwgZmlsdGVyKGFyZ3MpKSB7XG4gICAgICAgICAgICBzdGF0ZVtwYXRoXSA9IGZpZWxkU3RhdGU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKGZpZWxkSGFzU3ViRmllbGRzKGZpZWxkKSAmJiAhZmllbGRBZmZlY3RzRGF0YShmaWVsZCkpIHtcbiAgICAvLyBIYW5kbGUgZmllbGQgdHlwZXMgdGhhdCBkbyBub3QgdXNlIG5hbWVzIChyb3csIGNvbGxhcHNpYmxlLCB1bm5hbWVkIGdyb3VwIGV0YylcbiAgICBpZiAoIWZpbHRlciB8fCBmaWx0ZXIoYXJncykpIHtcbiAgICAgIHN0YXRlW3BhdGhdID0ge1xuICAgICAgICBkaXNhYmxlRm9ybURhdGE6IHRydWVcbiAgICAgIH07XG4gICAgICBpZiAocGFzc2VzQ29uZGl0aW9uID09PSBmYWxzZSkge1xuICAgICAgICBzdGF0ZVtwYXRoXS5wYXNzZXNDb25kaXRpb24gPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgYXdhaXQgaXRlcmF0ZUZpZWxkcyh7XG4gICAgICBpZCxcbiAgICAgIG1vY2tSU0NzLFxuICAgICAgc2VsZWN0LFxuICAgICAgc2VsZWN0TW9kZSxcbiAgICAgIC8vIHBhc3N0aHJvdWdoIHBhcmVudCBmdW5jdGlvbmFsaXR5XG4gICAgICBhZGRFcnJvclBhdGhUb1BhcmVudDogYWRkRXJyb3JQYXRoVG9QYXJlbnRBcmcsXG4gICAgICBhbnlQYXJlbnRMb2NhbGl6ZWQ6IGZpZWxkSXNMb2NhbGl6ZWQoZmllbGQpIHx8IGFueVBhcmVudExvY2FsaXplZCxcbiAgICAgIGJsb2NrRGF0YSxcbiAgICAgIGNsaWVudEZpZWxkU2NoZW1hTWFwLFxuICAgICAgY29sbGVjdGlvblNsdWcsXG4gICAgICBkYXRhLFxuICAgICAgZmllbGRzOiBmaWVsZC5maWVsZHMsXG4gICAgICBmaWVsZFNjaGVtYU1hcCxcbiAgICAgIGZpbHRlcixcbiAgICAgIGZvcmNlRnVsbFZhbHVlLFxuICAgICAgZnVsbERhdGEsXG4gICAgICBpbmNsdWRlU2NoZW1hLFxuICAgICAgb21pdFBhcmVudHMsXG4gICAgICBvcGVyYXRpb24sXG4gICAgICBwYXJlbnRJbmRleFBhdGg6IGluZGV4UGF0aCxcbiAgICAgIHBhcmVudFBhc3Nlc0NvbmRpdGlvbjogcGFzc2VzQ29uZGl0aW9uLFxuICAgICAgcGFyZW50UGF0aCxcbiAgICAgIHBhcmVudFNjaGVtYVBhdGgsXG4gICAgICBwZXJtaXNzaW9uczogcGFyZW50UGVybWlzc2lvbnMsXG4gICAgICBwcmVmZXJlbmNlcyxcbiAgICAgIHByZXZpb3VzRm9ybVN0YXRlLFxuICAgICAgcmVhZE9ubHksXG4gICAgICByZW5kZXJBbGxGaWVsZHMsXG4gICAgICByZW5kZXJGaWVsZEZuLFxuICAgICAgcmVxLFxuICAgICAgc2tpcENvbmRpdGlvbkNoZWNrcyxcbiAgICAgIHNraXBWYWxpZGF0aW9uLFxuICAgICAgc3RhdGVcbiAgICB9KTtcbiAgfSBlbHNlIGlmIChmaWVsZC50eXBlID09PSAndGFicycpIHtcbiAgICBjb25zdCBwcm9taXNlcyA9IGZpZWxkLnRhYnMubWFwKCh0YWIsIHRhYkluZGV4KSA9PiB7XG4gICAgICBjb25zdCBpc05hbWVkVGFiID0gdGFiSGFzTmFtZSh0YWIpO1xuICAgICAgbGV0IHRhYlNlbGVjdDtcbiAgICAgIGNvbnN0IHRhYkZpZWxkID0ge1xuICAgICAgICAuLi50YWIsXG4gICAgICAgIHR5cGU6ICd0YWInXG4gICAgICB9O1xuICAgICAgY29uc3Qge1xuICAgICAgICBpbmRleFBhdGg6IHRhYkluZGV4UGF0aCxcbiAgICAgICAgcGF0aDogdGFiUGF0aCxcbiAgICAgICAgc2NoZW1hUGF0aDogdGFiU2NoZW1hUGF0aFxuICAgICAgfSA9IGdldEZpZWxkUGF0aHMoe1xuICAgICAgICBmaWVsZDogdGFiRmllbGQsXG4gICAgICAgIGluZGV4OiB0YWJJbmRleCxcbiAgICAgICAgcGFyZW50SW5kZXhQYXRoOiBpbmRleFBhdGgsXG4gICAgICAgIHBhcmVudFBhdGgsXG4gICAgICAgIHBhcmVudFNjaGVtYVBhdGhcbiAgICAgIH0pO1xuICAgICAgbGV0IGNoaWxkUGVybWlzc2lvbnMgPSB1bmRlZmluZWQ7XG4gICAgICBpZiAoaXNOYW1lZFRhYikge1xuICAgICAgICBjb25zdCBzaG91bGRDb250aW51ZSA9IHN0cmlwVW5zZWxlY3RlZEZpZWxkcyh7XG4gICAgICAgICAgZmllbGQ6IHRhYkZpZWxkLFxuICAgICAgICAgIHNlbGVjdCxcbiAgICAgICAgICBzZWxlY3RNb2RlLFxuICAgICAgICAgIHNpYmxpbmdEb2M6IGRhdGE/Llt0YWIubmFtZV0gfHwge31cbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghc2hvdWxkQ29udGludWUpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcmVudFBlcm1pc3Npb25zID09PSB0cnVlKSB7XG4gICAgICAgICAgY2hpbGRQZXJtaXNzaW9ucyA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgdGFiUGVybWlzc2lvbnMgPSBwYXJlbnRQZXJtaXNzaW9ucz8uW3RhYi5uYW1lXTtcbiAgICAgICAgICBpZiAodGFiUGVybWlzc2lvbnMgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGNoaWxkUGVybWlzc2lvbnMgPSB0cnVlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjaGlsZFBlcm1pc3Npb25zID0gdGFiUGVybWlzc2lvbnM/LmZpZWxkcztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBzZWxlY3Q/Llt0YWIubmFtZV0gPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgdGFiU2VsZWN0ID0gc2VsZWN0Py5bdGFiLm5hbWVdO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjaGlsZFBlcm1pc3Npb25zID0gcGFyZW50UGVybWlzc2lvbnM7XG4gICAgICAgIHRhYlNlbGVjdCA9IHNlbGVjdDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBhdGhTZWdtZW50cyA9IHBhdGggPyBwYXRoLnNwbGl0KCcuJykgOiBbXTtcbiAgICAgIC8vIElmIHBhc3Nlc0NvbmRpdGlvbiBpcyBmYWxzZSB0aGVuIHRoaXMgc2hvdWxkIGFsd2F5cyByZXN1bHQgdG8gZmFsc2VcbiAgICAgIC8vIElmIHRoZSB0YWIgaGFzIG5vIGFkbWluLmNvbmRpdGlvbiBwcm92aWRlZCB0aGVuIGZhbGxiYWNrIHRvIHBhc3Nlc0NvbmRpdGlvbiBhbmQgbGV0IHRoYXQgZGVjaWRlIHRoZSByZXN1bHRcbiAgICAgIGxldCB0YWJQYXNzZXNDb25kaXRpb24gPSBwYXNzZXNDb25kaXRpb247XG4gICAgICBpZiAocGFzc2VzQ29uZGl0aW9uICYmIHR5cGVvZiB0YWIuYWRtaW4/LmNvbmRpdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0YWJQYXNzZXNDb25kaXRpb24gPSB0YWIuYWRtaW4uY29uZGl0aW9uKGZ1bGxEYXRhLCBkYXRhLCB7XG4gICAgICAgICAgYmxvY2tEYXRhLFxuICAgICAgICAgIG9wZXJhdGlvbixcbiAgICAgICAgICBwYXRoOiBwYXRoU2VnbWVudHMsXG4gICAgICAgICAgdXNlcjogcmVxLnVzZXJcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAodGFiPy5pZCkge1xuICAgICAgICBzdGF0ZVt0YWIuaWRdID0ge1xuICAgICAgICAgIHBhc3Nlc0NvbmRpdGlvbjogdGFiUGFzc2VzQ29uZGl0aW9uXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4gaXRlcmF0ZUZpZWxkcyh7XG4gICAgICAgIGlkLFxuICAgICAgICBhZGRFcnJvclBhdGhUb1BhcmVudDogYWRkRXJyb3JQYXRoVG9QYXJlbnRBcmcsXG4gICAgICAgIGFueVBhcmVudExvY2FsaXplZDogdGFiLmxvY2FsaXplZCB8fCBhbnlQYXJlbnRMb2NhbGl6ZWQsXG4gICAgICAgIGJsb2NrRGF0YSxcbiAgICAgICAgY2xpZW50RmllbGRTY2hlbWFNYXAsXG4gICAgICAgIGNvbGxlY3Rpb25TbHVnLFxuICAgICAgICBkYXRhOiBpc05hbWVkVGFiID8gZGF0YT8uW3RhYi5uYW1lXSB8fCB7fSA6IGRhdGEsXG4gICAgICAgIGZpZWxkczogdGFiLmZpZWxkcyxcbiAgICAgICAgZmllbGRTY2hlbWFNYXAsXG4gICAgICAgIGZpbHRlcixcbiAgICAgICAgZm9yY2VGdWxsVmFsdWUsXG4gICAgICAgIGZ1bGxEYXRhLFxuICAgICAgICBpbmNsdWRlU2NoZW1hLFxuICAgICAgICBtb2NrUlNDcyxcbiAgICAgICAgb21pdFBhcmVudHMsXG4gICAgICAgIG9wZXJhdGlvbixcbiAgICAgICAgcGFyZW50SW5kZXhQYXRoOiBpc05hbWVkVGFiID8gJycgOiB0YWJJbmRleFBhdGgsXG4gICAgICAgIHBhcmVudFBhc3Nlc0NvbmRpdGlvbjogdGFiUGFzc2VzQ29uZGl0aW9uLFxuICAgICAgICBwYXJlbnRQYXRoOiBpc05hbWVkVGFiID8gdGFiUGF0aCA6IHBhcmVudFBhdGgsXG4gICAgICAgIHBhcmVudFNjaGVtYVBhdGg6IGlzTmFtZWRUYWIgPyB0YWJTY2hlbWFQYXRoIDogcGFyZW50U2NoZW1hUGF0aCxcbiAgICAgICAgcGVybWlzc2lvbnM6IGNoaWxkUGVybWlzc2lvbnMsXG4gICAgICAgIHByZWZlcmVuY2VzLFxuICAgICAgICBwcmV2aW91c0Zvcm1TdGF0ZSxcbiAgICAgICAgcmVhZE9ubHksXG4gICAgICAgIHJlbmRlckFsbEZpZWxkcyxcbiAgICAgICAgcmVuZGVyRmllbGRGbixcbiAgICAgICAgcmVxLFxuICAgICAgICBzZWxlY3Q6IHRhYlNlbGVjdCxcbiAgICAgICAgc2VsZWN0TW9kZSxcbiAgICAgICAgc2tpcENvbmRpdGlvbkNoZWNrcyxcbiAgICAgICAgc2tpcFZhbGlkYXRpb24sXG4gICAgICAgIHN0YXRlXG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gIH0gZWxzZSBpZiAoZmllbGQudHlwZSA9PT0gJ3VpJykge1xuICAgIGlmICghZmlsdGVyIHx8IGZpbHRlcihhcmdzKSkge1xuICAgICAgc3RhdGVbcGF0aF0gPSBmaWVsZFN0YXRlO1xuICAgICAgc3RhdGVbcGF0aF0uZGlzYWJsZUZvcm1EYXRhID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgaWYgKHJlbmRlckZpZWxkRm4gJiYgIWZpZWxkSXNIaWRkZW5PckRpc2FibGVkKGZpZWxkKSkge1xuICAgIGNvbnN0IGZpZWxkQ29uZmlnID0gZmllbGRTY2hlbWFNYXAuZ2V0KHNjaGVtYVBhdGgpO1xuICAgIGlmICghZmllbGRDb25maWcgJiYgIW1vY2tSU0NzKSB7XG4gICAgICBpZiAoc2NoZW1hUGF0aC5lbmRzV2l0aCgnLmJsb2NrVHlwZScpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRmllbGQgY29uZmlnIG5vdCBmb3VuZCBmb3IgJHtzY2hlbWFQYXRofWApO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIXN0YXRlW3BhdGhdKSB7XG4gICAgICAvLyBTb21lIGZpZWxkcyAoaWUgYFRhYmApIGRvIG5vdCBsaXZlIGluIGZvcm0gc3RhdGVcbiAgICAgIC8vIHRoZXJlZm9yZSB3ZSBjYW5ub3QgYXR0YWNoIGN1c3RvbUNvbXBvbmVudHMgdG8gdGhlbVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoYWRkZWRCeVNlcnZlcikge1xuICAgICAgc3RhdGVbcGF0aF0uYWRkZWRCeVNlcnZlciA9IGFkZGVkQnlTZXJ2ZXI7XG4gICAgfVxuICAgIHJlbmRlckZpZWxkRm4oe1xuICAgICAgaWQsXG4gICAgICBjbGllbnRGaWVsZFNjaGVtYU1hcCxcbiAgICAgIGNvbGxlY3Rpb25TbHVnLFxuICAgICAgZGF0YTogZnVsbERhdGEsXG4gICAgICBmaWVsZENvbmZpZzogZmllbGRDb25maWcsXG4gICAgICBmaWVsZFNjaGVtYU1hcCxcbiAgICAgIGZpZWxkU3RhdGU6IHN0YXRlW3BhdGhdLFxuICAgICAgZm9ybVN0YXRlOiBzdGF0ZSxcbiAgICAgIGluZGV4UGF0aCxcbiAgICAgIGxhc3RSZW5kZXJlZFBhdGgsXG4gICAgICBtb2NrUlNDcyxcbiAgICAgIG9wZXJhdGlvbixcbiAgICAgIHBhcmVudFBhdGgsXG4gICAgICBwYXJlbnRTY2hlbWFQYXRoLFxuICAgICAgcGF0aCxcbiAgICAgIHBlcm1pc3Npb25zOiBmaWVsZFBlcm1pc3Npb25zLFxuICAgICAgcHJlZmVyZW5jZXMsXG4gICAgICBwcmV2aW91c0ZpZWxkU3RhdGU6IHByZXZpb3VzRm9ybVN0YXRlPy5bcGF0aF0sXG4gICAgICByZWFkT25seSxcbiAgICAgIHJlbmRlckFsbEZpZWxkcyxcbiAgICAgIHJlcSxcbiAgICAgIHNjaGVtYVBhdGgsXG4gICAgICBzaWJsaW5nRGF0YTogZGF0YVxuICAgIH0pO1xuICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YWRkRmllbGRTdGF0ZVByb21pc2UuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@payloadcms+ui@3.54.0_@type_b4e71577473023807239a2abc3ca8c78/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/addFieldStatePromise.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@payloadcms+ui@3.54.0_@type_b4e71577473023807239a2abc3ca8c78/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/calculateDefaultValues/index.js":
/*!****************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@payloadcms+ui@3.54.0_@type_b4e71577473023807239a2abc3ca8c78/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/calculateDefaultValues/index.js ***!
  \****************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   calculateDefaultValues: () => (/* binding */ calculateDefaultValues)\n/* harmony export */ });\n/* harmony import */ var _iterateFields_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./iterateFields.js */ \"(rsc)/./node_modules/.pnpm/@payloadcms+ui@3.54.0_@type_b4e71577473023807239a2abc3ca8c78/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/calculateDefaultValues/iterateFields.js\");\n\nconst calculateDefaultValues = async ({\n  id,\n  data,\n  fields,\n  locale,\n  req,\n  select,\n  selectMode,\n  user\n}) => {\n  await (0,_iterateFields_js__WEBPACK_IMPORTED_MODULE_0__.iterateFields)({\n    id,\n    data,\n    fields,\n    locale,\n    req,\n    select,\n    selectMode,\n    siblingData: data,\n    user\n  });\n  return data;\n};\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQHBheWxvYWRjbXMrdWlAMy41NC4wX0B0eXBlX2I0ZTcxNTc3NDczMDIzODA3MjM5YTJhYmMzY2E4Yzc4L25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy91aS9kaXN0L2Zvcm1zL2ZpZWxkU2NoZW1hc1RvRm9ybVN0YXRlL2NhbGN1bGF0ZURlZmF1bHRWYWx1ZXMvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBbUQ7QUFDNUM7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELFFBQVEsZ0VBQWE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxrdXNoXFxEZXNrdG9wXFxzY3JhcGVzYXZlZVxcYXBwc1xcY21zXFxub2RlX21vZHVsZXNcXC5wbnBtXFxAcGF5bG9hZGNtcyt1aUAzLjU0LjBfQHR5cGVfYjRlNzE1Nzc0NzMwMjM4MDcyMzlhMmFiYzNjYThjNzhcXG5vZGVfbW9kdWxlc1xcQHBheWxvYWRjbXNcXHVpXFxkaXN0XFxmb3Jtc1xcZmllbGRTY2hlbWFzVG9Gb3JtU3RhdGVcXGNhbGN1bGF0ZURlZmF1bHRWYWx1ZXNcXGluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGl0ZXJhdGVGaWVsZHMgfSBmcm9tICcuL2l0ZXJhdGVGaWVsZHMuanMnO1xuZXhwb3J0IGNvbnN0IGNhbGN1bGF0ZURlZmF1bHRWYWx1ZXMgPSBhc3luYyAoe1xuICBpZCxcbiAgZGF0YSxcbiAgZmllbGRzLFxuICBsb2NhbGUsXG4gIHJlcSxcbiAgc2VsZWN0LFxuICBzZWxlY3RNb2RlLFxuICB1c2VyXG59KSA9PiB7XG4gIGF3YWl0IGl0ZXJhdGVGaWVsZHMoe1xuICAgIGlkLFxuICAgIGRhdGEsXG4gICAgZmllbGRzLFxuICAgIGxvY2FsZSxcbiAgICByZXEsXG4gICAgc2VsZWN0LFxuICAgIHNlbGVjdE1vZGUsXG4gICAgc2libGluZ0RhdGE6IGRhdGEsXG4gICAgdXNlclxuICB9KTtcbiAgcmV0dXJuIGRhdGE7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@payloadcms+ui@3.54.0_@type_b4e71577473023807239a2abc3ca8c78/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/calculateDefaultValues/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@payloadcms+ui@3.54.0_@type_b4e71577473023807239a2abc3ca8c78/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/calculateDefaultValues/iterateFields.js":
/*!************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@payloadcms+ui@3.54.0_@type_b4e71577473023807239a2abc3ca8c78/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/calculateDefaultValues/iterateFields.js ***!
  \************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   iterateFields: () => (/* binding */ iterateFields)\n/* harmony export */ });\n/* harmony import */ var _promise_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./promise.js */ \"(rsc)/./node_modules/.pnpm/@payloadcms+ui@3.54.0_@type_b4e71577473023807239a2abc3ca8c78/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/calculateDefaultValues/promise.js\");\n\nconst iterateFields = async ({\n  id,\n  data,\n  fields,\n  locale,\n  req,\n  select,\n  selectMode,\n  siblingData,\n  user\n}) => {\n  const promises = [];\n  fields.forEach(field => {\n    promises.push((0,_promise_js__WEBPACK_IMPORTED_MODULE_0__.defaultValuePromise)({\n      id,\n      data,\n      field,\n      locale,\n      req,\n      select,\n      selectMode,\n      siblingData,\n      user\n    }));\n  });\n  await Promise.all(promises);\n};\n//# sourceMappingURL=iterateFields.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQHBheWxvYWRjbXMrdWlAMy41NC4wX0B0eXBlX2I0ZTcxNTc3NDczMDIzODA3MjM5YTJhYmMzY2E4Yzc4L25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy91aS9kaXN0L2Zvcm1zL2ZpZWxkU2NoZW1hc1RvRm9ybVN0YXRlL2NhbGN1bGF0ZURlZmF1bHRWYWx1ZXMvaXRlcmF0ZUZpZWxkcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFtRDtBQUM1QztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0Esa0JBQWtCLGdFQUFtQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxrdXNoXFxEZXNrdG9wXFxzY3JhcGVzYXZlZVxcYXBwc1xcY21zXFxub2RlX21vZHVsZXNcXC5wbnBtXFxAcGF5bG9hZGNtcyt1aUAzLjU0LjBfQHR5cGVfYjRlNzE1Nzc0NzMwMjM4MDcyMzlhMmFiYzNjYThjNzhcXG5vZGVfbW9kdWxlc1xcQHBheWxvYWRjbXNcXHVpXFxkaXN0XFxmb3Jtc1xcZmllbGRTY2hlbWFzVG9Gb3JtU3RhdGVcXGNhbGN1bGF0ZURlZmF1bHRWYWx1ZXNcXGl0ZXJhdGVGaWVsZHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGVmYXVsdFZhbHVlUHJvbWlzZSB9IGZyb20gJy4vcHJvbWlzZS5qcyc7XG5leHBvcnQgY29uc3QgaXRlcmF0ZUZpZWxkcyA9IGFzeW5jICh7XG4gIGlkLFxuICBkYXRhLFxuICBmaWVsZHMsXG4gIGxvY2FsZSxcbiAgcmVxLFxuICBzZWxlY3QsXG4gIHNlbGVjdE1vZGUsXG4gIHNpYmxpbmdEYXRhLFxuICB1c2VyXG59KSA9PiB7XG4gIGNvbnN0IHByb21pc2VzID0gW107XG4gIGZpZWxkcy5mb3JFYWNoKGZpZWxkID0+IHtcbiAgICBwcm9taXNlcy5wdXNoKGRlZmF1bHRWYWx1ZVByb21pc2Uoe1xuICAgICAgaWQsXG4gICAgICBkYXRhLFxuICAgICAgZmllbGQsXG4gICAgICBsb2NhbGUsXG4gICAgICByZXEsXG4gICAgICBzZWxlY3QsXG4gICAgICBzZWxlY3RNb2RlLFxuICAgICAgc2libGluZ0RhdGEsXG4gICAgICB1c2VyXG4gICAgfSkpO1xuICB9KTtcbiAgYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWl0ZXJhdGVGaWVsZHMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@payloadcms+ui@3.54.0_@type_b4e71577473023807239a2abc3ca8c78/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/calculateDefaultValues/iterateFields.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@payloadcms+ui@3.54.0_@type_b4e71577473023807239a2abc3ca8c78/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/calculateDefaultValues/promise.js":
/*!******************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@payloadcms+ui@3.54.0_@type_b4e71577473023807239a2abc3ca8c78/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/calculateDefaultValues/promise.js ***!
  \******************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   defaultValuePromise: () => (/* binding */ defaultValuePromise)\n/* harmony export */ });\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! payload */ \"(rsc)/./node_modules/.pnpm/payload@3.54.0_graphql@16.11.0_typescript@5.7.3/node_modules/payload/dist/utilities/stripUnselectedFields.js\");\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! payload */ \"(rsc)/./node_modules/.pnpm/payload@3.54.0_graphql@16.11.0_typescript@5.7.3/node_modules/payload/dist/fields/getDefaultValue.js\");\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! payload */ \"(rsc)/./node_modules/.pnpm/payload@3.54.0_graphql@16.11.0_typescript@5.7.3/node_modules/payload/dist/utilities/getBlockSelect.js\");\n/* harmony import */ var payload_shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! payload/shared */ \"(rsc)/./node_modules/.pnpm/payload@3.54.0_graphql@16.11.0_typescript@5.7.3/node_modules/payload/dist/fields/config/types.js\");\n/* harmony import */ var _iterateFields_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./iterateFields.js */ \"(rsc)/./node_modules/.pnpm/@payloadcms+ui@3.54.0_@type_b4e71577473023807239a2abc3ca8c78/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/calculateDefaultValues/iterateFields.js\");\n\n\n\n// TODO: Make this works for rich text subfields\nconst defaultValuePromise = async ({\n  id,\n  data,\n  field,\n  locale,\n  req,\n  select,\n  selectMode,\n  siblingData,\n  user\n}) => {\n  const shouldContinue = (0,payload__WEBPACK_IMPORTED_MODULE_0__.stripUnselectedFields)({\n    field,\n    select,\n    selectMode,\n    siblingDoc: siblingData\n  });\n  if (!shouldContinue) {\n    return;\n  }\n  if ((0,payload_shared__WEBPACK_IMPORTED_MODULE_1__.fieldAffectsData)(field)) {\n    if (typeof siblingData[field.name] === 'undefined' && typeof field.defaultValue !== 'undefined') {\n      try {\n        siblingData[field.name] = await (0,payload__WEBPACK_IMPORTED_MODULE_2__.getDefaultValue)({\n          defaultValue: field.defaultValue,\n          locale,\n          req,\n          user,\n          value: siblingData[field.name]\n        });\n      } catch (err) {\n        req.payload.logger.error({\n          err,\n          msg: `Error calculating default value for field: ${field.name}`\n        });\n      }\n    }\n  }\n  // Traverse subfields\n  switch (field.type) {\n    case 'array':\n      {\n        const rows = siblingData[field.name];\n        if (Array.isArray(rows)) {\n          const promises = [];\n          const arraySelect = select?.[field.name];\n          rows.forEach(row => {\n            promises.push((0,_iterateFields_js__WEBPACK_IMPORTED_MODULE_3__.iterateFields)({\n              id,\n              data,\n              fields: field.fields,\n              locale,\n              req,\n              select: typeof arraySelect === 'object' ? arraySelect : undefined,\n              selectMode,\n              siblingData: row,\n              user\n            }));\n          });\n          await Promise.all(promises);\n        }\n        break;\n      }\n    case 'blocks':\n      {\n        const rows = siblingData[field.name];\n        if (Array.isArray(rows)) {\n          const promises = [];\n          rows.forEach(row => {\n            const blockTypeToMatch = row.blockType;\n            const block = req.payload.blocks[blockTypeToMatch] ?? (field.blockReferences ?? field.blocks).find(blockType => typeof blockType !== 'string' && blockType.slug === blockTypeToMatch);\n            const {\n              blockSelect,\n              blockSelectMode\n            } = (0,payload__WEBPACK_IMPORTED_MODULE_4__.getBlockSelect)({\n              block,\n              select: select?.[field.name],\n              selectMode\n            });\n            if (block) {\n              row.blockType = blockTypeToMatch;\n              promises.push((0,_iterateFields_js__WEBPACK_IMPORTED_MODULE_3__.iterateFields)({\n                id,\n                data,\n                fields: block.fields,\n                locale,\n                req,\n                select: typeof blockSelect === 'object' ? blockSelect : undefined,\n                selectMode: blockSelectMode,\n                siblingData: row,\n                user\n              }));\n            }\n          });\n          await Promise.all(promises);\n        }\n        break;\n      }\n    case 'collapsible':\n    case 'row':\n      {\n        await (0,_iterateFields_js__WEBPACK_IMPORTED_MODULE_3__.iterateFields)({\n          id,\n          data,\n          fields: field.fields,\n          locale,\n          req,\n          select,\n          selectMode,\n          siblingData,\n          user\n        });\n        break;\n      }\n    case 'group':\n      {\n        if ((0,payload_shared__WEBPACK_IMPORTED_MODULE_1__.fieldAffectsData)(field)) {\n          if (typeof siblingData[field.name] !== 'object') {\n            siblingData[field.name] = {};\n          }\n          const groupData = siblingData[field.name];\n          const groupSelect = select?.[field.name];\n          await (0,_iterateFields_js__WEBPACK_IMPORTED_MODULE_3__.iterateFields)({\n            id,\n            data,\n            fields: field.fields,\n            locale,\n            req,\n            select: typeof groupSelect === 'object' ? groupSelect : undefined,\n            selectMode,\n            siblingData: groupData,\n            user\n          });\n        } else {\n          await (0,_iterateFields_js__WEBPACK_IMPORTED_MODULE_3__.iterateFields)({\n            id,\n            data,\n            fields: field.fields,\n            locale,\n            req,\n            select,\n            selectMode,\n            siblingData,\n            user\n          });\n        }\n        break;\n      }\n    case 'tab':\n      {\n        let tabSiblingData;\n        const isNamedTab = (0,payload_shared__WEBPACK_IMPORTED_MODULE_1__.tabHasName)(field);\n        let tabSelect;\n        if (isNamedTab) {\n          if (typeof siblingData[field.name] !== 'object') {\n            siblingData[field.name] = {};\n          }\n          tabSiblingData = siblingData[field.name];\n          if (typeof select?.[field.name] === 'object') {\n            tabSelect = select?.[field.name];\n          }\n        } else {\n          tabSiblingData = siblingData;\n          tabSelect = select;\n        }\n        await (0,_iterateFields_js__WEBPACK_IMPORTED_MODULE_3__.iterateFields)({\n          id,\n          data,\n          fields: field.fields,\n          locale,\n          req,\n          select: tabSelect,\n          selectMode,\n          siblingData: tabSiblingData,\n          user\n        });\n        break;\n      }\n    case 'tabs':\n      {\n        await (0,_iterateFields_js__WEBPACK_IMPORTED_MODULE_3__.iterateFields)({\n          id,\n          data,\n          fields: field.tabs.map(tab => ({\n            ...tab,\n            type: 'tab'\n          })),\n          locale,\n          req,\n          select,\n          selectMode,\n          siblingData,\n          user\n        });\n        break;\n      }\n    default:\n      {\n        break;\n      }\n  }\n};\n//# sourceMappingURL=promise.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQHBheWxvYWRjbXMrdWlAMy41NC4wX0B0eXBlX2I0ZTcxNTc3NDczMDIzODA3MjM5YTJhYmMzY2E4Yzc4L25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy91aS9kaXN0L2Zvcm1zL2ZpZWxkU2NoZW1hc1RvRm9ybVN0YXRlL2NhbGN1bGF0ZURlZmF1bHRWYWx1ZXMvcHJvbWlzZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBaUY7QUFDbkI7QUFDWDtBQUNuRDtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELHlCQUF5Qiw4REFBcUI7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsTUFBTSxnRUFBZ0I7QUFDdEI7QUFDQTtBQUNBLHdDQUF3Qyx3REFBZTtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULFFBQVE7QUFDUjtBQUNBO0FBQ0EsNkRBQTZELFdBQVc7QUFDeEUsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixnRUFBYTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsRUFBRSx1REFBYztBQUM5QjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLDRCQUE0QixnRUFBYTtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLGdFQUFhO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksZ0VBQWdCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsZ0VBQWE7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLFVBQVU7QUFDVixnQkFBZ0IsZ0VBQWE7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQiwwREFBVTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0EsY0FBYyxnRUFBYTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLGdFQUFhO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxrdXNoXFxEZXNrdG9wXFxzY3JhcGVzYXZlZVxcYXBwc1xcY21zXFxub2RlX21vZHVsZXNcXC5wbnBtXFxAcGF5bG9hZGNtcyt1aUAzLjU0LjBfQHR5cGVfYjRlNzE1Nzc0NzMwMjM4MDcyMzlhMmFiYzNjYThjNzhcXG5vZGVfbW9kdWxlc1xcQHBheWxvYWRjbXNcXHVpXFxkaXN0XFxmb3Jtc1xcZmllbGRTY2hlbWFzVG9Gb3JtU3RhdGVcXGNhbGN1bGF0ZURlZmF1bHRWYWx1ZXNcXHByb21pc2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0QmxvY2tTZWxlY3QsIGdldERlZmF1bHRWYWx1ZSwgc3RyaXBVbnNlbGVjdGVkRmllbGRzIH0gZnJvbSAncGF5bG9hZCc7XG5pbXBvcnQgeyBmaWVsZEFmZmVjdHNEYXRhLCB0YWJIYXNOYW1lIH0gZnJvbSAncGF5bG9hZC9zaGFyZWQnO1xuaW1wb3J0IHsgaXRlcmF0ZUZpZWxkcyB9IGZyb20gJy4vaXRlcmF0ZUZpZWxkcy5qcyc7XG4vLyBUT0RPOiBNYWtlIHRoaXMgd29ya3MgZm9yIHJpY2ggdGV4dCBzdWJmaWVsZHNcbmV4cG9ydCBjb25zdCBkZWZhdWx0VmFsdWVQcm9taXNlID0gYXN5bmMgKHtcbiAgaWQsXG4gIGRhdGEsXG4gIGZpZWxkLFxuICBsb2NhbGUsXG4gIHJlcSxcbiAgc2VsZWN0LFxuICBzZWxlY3RNb2RlLFxuICBzaWJsaW5nRGF0YSxcbiAgdXNlclxufSkgPT4ge1xuICBjb25zdCBzaG91bGRDb250aW51ZSA9IHN0cmlwVW5zZWxlY3RlZEZpZWxkcyh7XG4gICAgZmllbGQsXG4gICAgc2VsZWN0LFxuICAgIHNlbGVjdE1vZGUsXG4gICAgc2libGluZ0RvYzogc2libGluZ0RhdGFcbiAgfSk7XG4gIGlmICghc2hvdWxkQ29udGludWUpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKGZpZWxkQWZmZWN0c0RhdGEoZmllbGQpKSB7XG4gICAgaWYgKHR5cGVvZiBzaWJsaW5nRGF0YVtmaWVsZC5uYW1lXSA9PT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGZpZWxkLmRlZmF1bHRWYWx1ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHNpYmxpbmdEYXRhW2ZpZWxkLm5hbWVdID0gYXdhaXQgZ2V0RGVmYXVsdFZhbHVlKHtcbiAgICAgICAgICBkZWZhdWx0VmFsdWU6IGZpZWxkLmRlZmF1bHRWYWx1ZSxcbiAgICAgICAgICBsb2NhbGUsXG4gICAgICAgICAgcmVxLFxuICAgICAgICAgIHVzZXIsXG4gICAgICAgICAgdmFsdWU6IHNpYmxpbmdEYXRhW2ZpZWxkLm5hbWVdXG4gICAgICAgIH0pO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJlcS5wYXlsb2FkLmxvZ2dlci5lcnJvcih7XG4gICAgICAgICAgZXJyLFxuICAgICAgICAgIG1zZzogYEVycm9yIGNhbGN1bGF0aW5nIGRlZmF1bHQgdmFsdWUgZm9yIGZpZWxkOiAke2ZpZWxkLm5hbWV9YFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLy8gVHJhdmVyc2Ugc3ViZmllbGRzXG4gIHN3aXRjaCAoZmllbGQudHlwZSkge1xuICAgIGNhc2UgJ2FycmF5JzpcbiAgICAgIHtcbiAgICAgICAgY29uc3Qgcm93cyA9IHNpYmxpbmdEYXRhW2ZpZWxkLm5hbWVdO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShyb3dzKSkge1xuICAgICAgICAgIGNvbnN0IHByb21pc2VzID0gW107XG4gICAgICAgICAgY29uc3QgYXJyYXlTZWxlY3QgPSBzZWxlY3Q/LltmaWVsZC5uYW1lXTtcbiAgICAgICAgICByb3dzLmZvckVhY2gocm93ID0+IHtcbiAgICAgICAgICAgIHByb21pc2VzLnB1c2goaXRlcmF0ZUZpZWxkcyh7XG4gICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgICBmaWVsZHM6IGZpZWxkLmZpZWxkcyxcbiAgICAgICAgICAgICAgbG9jYWxlLFxuICAgICAgICAgICAgICByZXEsXG4gICAgICAgICAgICAgIHNlbGVjdDogdHlwZW9mIGFycmF5U2VsZWN0ID09PSAnb2JqZWN0JyA/IGFycmF5U2VsZWN0IDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICBzZWxlY3RNb2RlLFxuICAgICAgICAgICAgICBzaWJsaW5nRGF0YTogcm93LFxuICAgICAgICAgICAgICB1c2VyXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIGNhc2UgJ2Jsb2Nrcyc6XG4gICAgICB7XG4gICAgICAgIGNvbnN0IHJvd3MgPSBzaWJsaW5nRGF0YVtmaWVsZC5uYW1lXTtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocm93cykpIHtcbiAgICAgICAgICBjb25zdCBwcm9taXNlcyA9IFtdO1xuICAgICAgICAgIHJvd3MuZm9yRWFjaChyb3cgPT4ge1xuICAgICAgICAgICAgY29uc3QgYmxvY2tUeXBlVG9NYXRjaCA9IHJvdy5ibG9ja1R5cGU7XG4gICAgICAgICAgICBjb25zdCBibG9jayA9IHJlcS5wYXlsb2FkLmJsb2Nrc1tibG9ja1R5cGVUb01hdGNoXSA/PyAoZmllbGQuYmxvY2tSZWZlcmVuY2VzID8/IGZpZWxkLmJsb2NrcykuZmluZChibG9ja1R5cGUgPT4gdHlwZW9mIGJsb2NrVHlwZSAhPT0gJ3N0cmluZycgJiYgYmxvY2tUeXBlLnNsdWcgPT09IGJsb2NrVHlwZVRvTWF0Y2gpO1xuICAgICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgICBibG9ja1NlbGVjdCxcbiAgICAgICAgICAgICAgYmxvY2tTZWxlY3RNb2RlXG4gICAgICAgICAgICB9ID0gZ2V0QmxvY2tTZWxlY3Qoe1xuICAgICAgICAgICAgICBibG9jayxcbiAgICAgICAgICAgICAgc2VsZWN0OiBzZWxlY3Q/LltmaWVsZC5uYW1lXSxcbiAgICAgICAgICAgICAgc2VsZWN0TW9kZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoYmxvY2spIHtcbiAgICAgICAgICAgICAgcm93LmJsb2NrVHlwZSA9IGJsb2NrVHlwZVRvTWF0Y2g7XG4gICAgICAgICAgICAgIHByb21pc2VzLnB1c2goaXRlcmF0ZUZpZWxkcyh7XG4gICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgICAgICBmaWVsZHM6IGJsb2NrLmZpZWxkcyxcbiAgICAgICAgICAgICAgICBsb2NhbGUsXG4gICAgICAgICAgICAgICAgcmVxLFxuICAgICAgICAgICAgICAgIHNlbGVjdDogdHlwZW9mIGJsb2NrU2VsZWN0ID09PSAnb2JqZWN0JyA/IGJsb2NrU2VsZWN0IDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIHNlbGVjdE1vZGU6IGJsb2NrU2VsZWN0TW9kZSxcbiAgICAgICAgICAgICAgICBzaWJsaW5nRGF0YTogcm93LFxuICAgICAgICAgICAgICAgIHVzZXJcbiAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGF3YWl0IFByb21pc2UuYWxsKHByb21pc2VzKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICBjYXNlICdjb2xsYXBzaWJsZSc6XG4gICAgY2FzZSAncm93JzpcbiAgICAgIHtcbiAgICAgICAgYXdhaXQgaXRlcmF0ZUZpZWxkcyh7XG4gICAgICAgICAgaWQsXG4gICAgICAgICAgZGF0YSxcbiAgICAgICAgICBmaWVsZHM6IGZpZWxkLmZpZWxkcyxcbiAgICAgICAgICBsb2NhbGUsXG4gICAgICAgICAgcmVxLFxuICAgICAgICAgIHNlbGVjdCxcbiAgICAgICAgICBzZWxlY3RNb2RlLFxuICAgICAgICAgIHNpYmxpbmdEYXRhLFxuICAgICAgICAgIHVzZXJcbiAgICAgICAgfSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIGNhc2UgJ2dyb3VwJzpcbiAgICAgIHtcbiAgICAgICAgaWYgKGZpZWxkQWZmZWN0c0RhdGEoZmllbGQpKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBzaWJsaW5nRGF0YVtmaWVsZC5uYW1lXSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHNpYmxpbmdEYXRhW2ZpZWxkLm5hbWVdID0ge307XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGdyb3VwRGF0YSA9IHNpYmxpbmdEYXRhW2ZpZWxkLm5hbWVdO1xuICAgICAgICAgIGNvbnN0IGdyb3VwU2VsZWN0ID0gc2VsZWN0Py5bZmllbGQubmFtZV07XG4gICAgICAgICAgYXdhaXQgaXRlcmF0ZUZpZWxkcyh7XG4gICAgICAgICAgICBpZCxcbiAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICBmaWVsZHM6IGZpZWxkLmZpZWxkcyxcbiAgICAgICAgICAgIGxvY2FsZSxcbiAgICAgICAgICAgIHJlcSxcbiAgICAgICAgICAgIHNlbGVjdDogdHlwZW9mIGdyb3VwU2VsZWN0ID09PSAnb2JqZWN0JyA/IGdyb3VwU2VsZWN0IDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgc2VsZWN0TW9kZSxcbiAgICAgICAgICAgIHNpYmxpbmdEYXRhOiBncm91cERhdGEsXG4gICAgICAgICAgICB1c2VyXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYXdhaXQgaXRlcmF0ZUZpZWxkcyh7XG4gICAgICAgICAgICBpZCxcbiAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICBmaWVsZHM6IGZpZWxkLmZpZWxkcyxcbiAgICAgICAgICAgIGxvY2FsZSxcbiAgICAgICAgICAgIHJlcSxcbiAgICAgICAgICAgIHNlbGVjdCxcbiAgICAgICAgICAgIHNlbGVjdE1vZGUsXG4gICAgICAgICAgICBzaWJsaW5nRGF0YSxcbiAgICAgICAgICAgIHVzZXJcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICBjYXNlICd0YWInOlxuICAgICAge1xuICAgICAgICBsZXQgdGFiU2libGluZ0RhdGE7XG4gICAgICAgIGNvbnN0IGlzTmFtZWRUYWIgPSB0YWJIYXNOYW1lKGZpZWxkKTtcbiAgICAgICAgbGV0IHRhYlNlbGVjdDtcbiAgICAgICAgaWYgKGlzTmFtZWRUYWIpIHtcbiAgICAgICAgICBpZiAodHlwZW9mIHNpYmxpbmdEYXRhW2ZpZWxkLm5hbWVdICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgc2libGluZ0RhdGFbZmllbGQubmFtZV0gPSB7fTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGFiU2libGluZ0RhdGEgPSBzaWJsaW5nRGF0YVtmaWVsZC5uYW1lXTtcbiAgICAgICAgICBpZiAodHlwZW9mIHNlbGVjdD8uW2ZpZWxkLm5hbWVdID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgdGFiU2VsZWN0ID0gc2VsZWN0Py5bZmllbGQubmFtZV07XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRhYlNpYmxpbmdEYXRhID0gc2libGluZ0RhdGE7XG4gICAgICAgICAgdGFiU2VsZWN0ID0gc2VsZWN0O1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IGl0ZXJhdGVGaWVsZHMoe1xuICAgICAgICAgIGlkLFxuICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgZmllbGRzOiBmaWVsZC5maWVsZHMsXG4gICAgICAgICAgbG9jYWxlLFxuICAgICAgICAgIHJlcSxcbiAgICAgICAgICBzZWxlY3Q6IHRhYlNlbGVjdCxcbiAgICAgICAgICBzZWxlY3RNb2RlLFxuICAgICAgICAgIHNpYmxpbmdEYXRhOiB0YWJTaWJsaW5nRGF0YSxcbiAgICAgICAgICB1c2VyXG4gICAgICAgIH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICBjYXNlICd0YWJzJzpcbiAgICAgIHtcbiAgICAgICAgYXdhaXQgaXRlcmF0ZUZpZWxkcyh7XG4gICAgICAgICAgaWQsXG4gICAgICAgICAgZGF0YSxcbiAgICAgICAgICBmaWVsZHM6IGZpZWxkLnRhYnMubWFwKHRhYiA9PiAoe1xuICAgICAgICAgICAgLi4udGFiLFxuICAgICAgICAgICAgdHlwZTogJ3RhYidcbiAgICAgICAgICB9KSksXG4gICAgICAgICAgbG9jYWxlLFxuICAgICAgICAgIHJlcSxcbiAgICAgICAgICBzZWxlY3QsXG4gICAgICAgICAgc2VsZWN0TW9kZSxcbiAgICAgICAgICBzaWJsaW5nRGF0YSxcbiAgICAgICAgICB1c2VyXG4gICAgICAgIH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICBkZWZhdWx0OlxuICAgICAge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXByb21pc2UuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@payloadcms+ui@3.54.0_@type_b4e71577473023807239a2abc3ca8c78/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/calculateDefaultValues/promise.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@payloadcms+ui@3.54.0_@type_b4e71577473023807239a2abc3ca8c78/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/index.js":
/*!*****************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@payloadcms+ui@3.54.0_@type_b4e71577473023807239a2abc3ca8c78/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/index.js ***!
  \*****************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fieldSchemasToFormState: () => (/* binding */ fieldSchemasToFormState),\n/* harmony export */   iterateFields: () => (/* reexport safe */ _iterateFields_js__WEBPACK_IMPORTED_MODULE_1__.iterateFields)\n/* harmony export */ });\n/* harmony import */ var _calculateDefaultValues_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./calculateDefaultValues/index.js */ \"(rsc)/./node_modules/.pnpm/@payloadcms+ui@3.54.0_@type_b4e71577473023807239a2abc3ca8c78/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/calculateDefaultValues/index.js\");\n/* harmony import */ var _iterateFields_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./iterateFields.js */ \"(rsc)/./node_modules/.pnpm/@payloadcms+ui@3.54.0_@type_b4e71577473023807239a2abc3ca8c78/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/iterateFields.js\");\n\n\nconst fieldSchemasToFormState = async ({\n  id,\n  clientFieldSchemaMap,\n  collectionSlug,\n  data = {},\n  documentData,\n  fields,\n  fieldSchemaMap,\n  initialBlockData,\n  mockRSCs,\n  operation,\n  permissions,\n  preferences,\n  previousFormState,\n  readOnly,\n  renderAllFields,\n  renderFieldFn,\n  req,\n  schemaPath,\n  select,\n  selectMode,\n  skipValidation\n}) => {\n  if (!clientFieldSchemaMap && renderFieldFn) {\n    // eslint-disable-next-line no-console\n    console.warn('clientFieldSchemaMap is not passed to fieldSchemasToFormState - this will reduce performance');\n  }\n  if (fields && fields.length) {\n    const state = {};\n    const dataWithDefaultValues = {\n      ...data\n    };\n    await (0,_calculateDefaultValues_index_js__WEBPACK_IMPORTED_MODULE_0__.calculateDefaultValues)({\n      id,\n      data: dataWithDefaultValues,\n      fields,\n      locale: req.locale,\n      req,\n      select,\n      selectMode,\n      siblingData: dataWithDefaultValues,\n      user: req.user\n    });\n    let fullData = dataWithDefaultValues;\n    if (documentData) {\n      // By the time this function is used to get form state for nested forms, their default values should have already been calculated\n      // => no need to run calculateDefaultValues here\n      fullData = documentData;\n    }\n    await (0,_iterateFields_js__WEBPACK_IMPORTED_MODULE_1__.iterateFields)({\n      id,\n      addErrorPathToParent: null,\n      blockData: initialBlockData,\n      clientFieldSchemaMap,\n      collectionSlug,\n      data: dataWithDefaultValues,\n      fields,\n      fieldSchemaMap,\n      fullData,\n      mockRSCs,\n      operation,\n      parentIndexPath: '',\n      parentPassesCondition: true,\n      parentPath: '',\n      parentSchemaPath: schemaPath,\n      permissions,\n      preferences,\n      previousFormState,\n      readOnly,\n      renderAllFields,\n      renderFieldFn,\n      req,\n      select,\n      selectMode,\n      skipValidation,\n      state\n    });\n    return state;\n  }\n  return {};\n};\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQHBheWxvYWRjbXMrdWlAMy41NC4wX0B0eXBlX2I0ZTcxNTc3NDczMDIzODA3MjM5YTJhYmMzY2E4Yzc4L25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy91aS9kaXN0L2Zvcm1zL2ZpZWxkU2NoZW1hc1RvRm9ybVN0YXRlL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBMkU7QUFDeEI7QUFDNUM7QUFDUDtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLHdGQUFzQjtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxnRUFBYTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ3lCO0FBQ3pCIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGt1c2hcXERlc2t0b3BcXHNjcmFwZXNhdmVlXFxhcHBzXFxjbXNcXG5vZGVfbW9kdWxlc1xcLnBucG1cXEBwYXlsb2FkY21zK3VpQDMuNTQuMF9AdHlwZV9iNGU3MTU3NzQ3MzAyMzgwNzIzOWEyYWJjM2NhOGM3OFxcbm9kZV9tb2R1bGVzXFxAcGF5bG9hZGNtc1xcdWlcXGRpc3RcXGZvcm1zXFxmaWVsZFNjaGVtYXNUb0Zvcm1TdGF0ZVxcaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY2FsY3VsYXRlRGVmYXVsdFZhbHVlcyB9IGZyb20gJy4vY2FsY3VsYXRlRGVmYXVsdFZhbHVlcy9pbmRleC5qcyc7XG5pbXBvcnQgeyBpdGVyYXRlRmllbGRzIH0gZnJvbSAnLi9pdGVyYXRlRmllbGRzLmpzJztcbmV4cG9ydCBjb25zdCBmaWVsZFNjaGVtYXNUb0Zvcm1TdGF0ZSA9IGFzeW5jICh7XG4gIGlkLFxuICBjbGllbnRGaWVsZFNjaGVtYU1hcCxcbiAgY29sbGVjdGlvblNsdWcsXG4gIGRhdGEgPSB7fSxcbiAgZG9jdW1lbnREYXRhLFxuICBmaWVsZHMsXG4gIGZpZWxkU2NoZW1hTWFwLFxuICBpbml0aWFsQmxvY2tEYXRhLFxuICBtb2NrUlNDcyxcbiAgb3BlcmF0aW9uLFxuICBwZXJtaXNzaW9ucyxcbiAgcHJlZmVyZW5jZXMsXG4gIHByZXZpb3VzRm9ybVN0YXRlLFxuICByZWFkT25seSxcbiAgcmVuZGVyQWxsRmllbGRzLFxuICByZW5kZXJGaWVsZEZuLFxuICByZXEsXG4gIHNjaGVtYVBhdGgsXG4gIHNlbGVjdCxcbiAgc2VsZWN0TW9kZSxcbiAgc2tpcFZhbGlkYXRpb25cbn0pID0+IHtcbiAgaWYgKCFjbGllbnRGaWVsZFNjaGVtYU1hcCAmJiByZW5kZXJGaWVsZEZuKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICBjb25zb2xlLndhcm4oJ2NsaWVudEZpZWxkU2NoZW1hTWFwIGlzIG5vdCBwYXNzZWQgdG8gZmllbGRTY2hlbWFzVG9Gb3JtU3RhdGUgLSB0aGlzIHdpbGwgcmVkdWNlIHBlcmZvcm1hbmNlJyk7XG4gIH1cbiAgaWYgKGZpZWxkcyAmJiBmaWVsZHMubGVuZ3RoKSB7XG4gICAgY29uc3Qgc3RhdGUgPSB7fTtcbiAgICBjb25zdCBkYXRhV2l0aERlZmF1bHRWYWx1ZXMgPSB7XG4gICAgICAuLi5kYXRhXG4gICAgfTtcbiAgICBhd2FpdCBjYWxjdWxhdGVEZWZhdWx0VmFsdWVzKHtcbiAgICAgIGlkLFxuICAgICAgZGF0YTogZGF0YVdpdGhEZWZhdWx0VmFsdWVzLFxuICAgICAgZmllbGRzLFxuICAgICAgbG9jYWxlOiByZXEubG9jYWxlLFxuICAgICAgcmVxLFxuICAgICAgc2VsZWN0LFxuICAgICAgc2VsZWN0TW9kZSxcbiAgICAgIHNpYmxpbmdEYXRhOiBkYXRhV2l0aERlZmF1bHRWYWx1ZXMsXG4gICAgICB1c2VyOiByZXEudXNlclxuICAgIH0pO1xuICAgIGxldCBmdWxsRGF0YSA9IGRhdGFXaXRoRGVmYXVsdFZhbHVlcztcbiAgICBpZiAoZG9jdW1lbnREYXRhKSB7XG4gICAgICAvLyBCeSB0aGUgdGltZSB0aGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8gZ2V0IGZvcm0gc3RhdGUgZm9yIG5lc3RlZCBmb3JtcywgdGhlaXIgZGVmYXVsdCB2YWx1ZXMgc2hvdWxkIGhhdmUgYWxyZWFkeSBiZWVuIGNhbGN1bGF0ZWRcbiAgICAgIC8vID0+IG5vIG5lZWQgdG8gcnVuIGNhbGN1bGF0ZURlZmF1bHRWYWx1ZXMgaGVyZVxuICAgICAgZnVsbERhdGEgPSBkb2N1bWVudERhdGE7XG4gICAgfVxuICAgIGF3YWl0IGl0ZXJhdGVGaWVsZHMoe1xuICAgICAgaWQsXG4gICAgICBhZGRFcnJvclBhdGhUb1BhcmVudDogbnVsbCxcbiAgICAgIGJsb2NrRGF0YTogaW5pdGlhbEJsb2NrRGF0YSxcbiAgICAgIGNsaWVudEZpZWxkU2NoZW1hTWFwLFxuICAgICAgY29sbGVjdGlvblNsdWcsXG4gICAgICBkYXRhOiBkYXRhV2l0aERlZmF1bHRWYWx1ZXMsXG4gICAgICBmaWVsZHMsXG4gICAgICBmaWVsZFNjaGVtYU1hcCxcbiAgICAgIGZ1bGxEYXRhLFxuICAgICAgbW9ja1JTQ3MsXG4gICAgICBvcGVyYXRpb24sXG4gICAgICBwYXJlbnRJbmRleFBhdGg6ICcnLFxuICAgICAgcGFyZW50UGFzc2VzQ29uZGl0aW9uOiB0cnVlLFxuICAgICAgcGFyZW50UGF0aDogJycsXG4gICAgICBwYXJlbnRTY2hlbWFQYXRoOiBzY2hlbWFQYXRoLFxuICAgICAgcGVybWlzc2lvbnMsXG4gICAgICBwcmVmZXJlbmNlcyxcbiAgICAgIHByZXZpb3VzRm9ybVN0YXRlLFxuICAgICAgcmVhZE9ubHksXG4gICAgICByZW5kZXJBbGxGaWVsZHMsXG4gICAgICByZW5kZXJGaWVsZEZuLFxuICAgICAgcmVxLFxuICAgICAgc2VsZWN0LFxuICAgICAgc2VsZWN0TW9kZSxcbiAgICAgIHNraXBWYWxpZGF0aW9uLFxuICAgICAgc3RhdGVcbiAgICB9KTtcbiAgICByZXR1cm4gc3RhdGU7XG4gIH1cbiAgcmV0dXJuIHt9O1xufTtcbmV4cG9ydCB7IGl0ZXJhdGVGaWVsZHMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@payloadcms+ui@3.54.0_@type_b4e71577473023807239a2abc3ca8c78/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@payloadcms+ui@3.54.0_@type_b4e71577473023807239a2abc3ca8c78/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/isRowCollapsed.js":
/*!**************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@payloadcms+ui@3.54.0_@type_b4e71577473023807239a2abc3ca8c78/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/isRowCollapsed.js ***!
  \**************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isRowCollapsed: () => (/* binding */ isRowCollapsed)\n/* harmony export */ });\nfunction isRowCollapsed({\n  collapsedPrefs,\n  field,\n  previousRow,\n  row\n}) {\n  if (previousRow && 'collapsed' in previousRow) {\n    return previousRow.collapsed ?? false;\n  }\n  // If previousFormState is `undefined`, check preferences\n  if (collapsedPrefs !== undefined) {\n    return collapsedPrefs.includes(row.id) // Check if collapsed in preferences\n    ;\n  }\n  // If neither exists, fallback to `field.admin.initCollapsed`\n  return field.admin.initCollapsed;\n}\n//# sourceMappingURL=isRowCollapsed.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQHBheWxvYWRjbXMrdWlAMy41NC4wX0B0eXBlX2I0ZTcxNTc3NDczMDIzODA3MjM5YTJhYmMzY2E4Yzc4L25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy91aS9kaXN0L2Zvcm1zL2ZpZWxkU2NoZW1hc1RvRm9ybVN0YXRlL2lzUm93Q29sbGFwc2VkLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxrdXNoXFxEZXNrdG9wXFxzY3JhcGVzYXZlZVxcYXBwc1xcY21zXFxub2RlX21vZHVsZXNcXC5wbnBtXFxAcGF5bG9hZGNtcyt1aUAzLjU0LjBfQHR5cGVfYjRlNzE1Nzc0NzMwMjM4MDcyMzlhMmFiYzNjYThjNzhcXG5vZGVfbW9kdWxlc1xcQHBheWxvYWRjbXNcXHVpXFxkaXN0XFxmb3Jtc1xcZmllbGRTY2hlbWFzVG9Gb3JtU3RhdGVcXGlzUm93Q29sbGFwc2VkLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBpc1Jvd0NvbGxhcHNlZCh7XG4gIGNvbGxhcHNlZFByZWZzLFxuICBmaWVsZCxcbiAgcHJldmlvdXNSb3csXG4gIHJvd1xufSkge1xuICBpZiAocHJldmlvdXNSb3cgJiYgJ2NvbGxhcHNlZCcgaW4gcHJldmlvdXNSb3cpIHtcbiAgICByZXR1cm4gcHJldmlvdXNSb3cuY29sbGFwc2VkID8/IGZhbHNlO1xuICB9XG4gIC8vIElmIHByZXZpb3VzRm9ybVN0YXRlIGlzIGB1bmRlZmluZWRgLCBjaGVjayBwcmVmZXJlbmNlc1xuICBpZiAoY29sbGFwc2VkUHJlZnMgIT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBjb2xsYXBzZWRQcmVmcy5pbmNsdWRlcyhyb3cuaWQpIC8vIENoZWNrIGlmIGNvbGxhcHNlZCBpbiBwcmVmZXJlbmNlc1xuICAgIDtcbiAgfVxuICAvLyBJZiBuZWl0aGVyIGV4aXN0cywgZmFsbGJhY2sgdG8gYGZpZWxkLmFkbWluLmluaXRDb2xsYXBzZWRgXG4gIHJldHVybiBmaWVsZC5hZG1pbi5pbml0Q29sbGFwc2VkO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNSb3dDb2xsYXBzZWQuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@payloadcms+ui@3.54.0_@type_b4e71577473023807239a2abc3ca8c78/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/isRowCollapsed.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@payloadcms+ui@3.54.0_@type_b4e71577473023807239a2abc3ca8c78/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/iterateFields.js":
/*!*************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@payloadcms+ui@3.54.0_@type_b4e71577473023807239a2abc3ca8c78/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/iterateFields.js ***!
  \*************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   iterateFields: () => (/* binding */ iterateFields)\n/* harmony export */ });\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! payload */ \"(rsc)/./node_modules/.pnpm/payload@3.54.0_graphql@16.11.0_typescript@5.7.3/node_modules/payload/dist/utilities/stripUnselectedFields.js\");\n/* harmony import */ var payload_shared__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! payload/shared */ \"(rsc)/./node_modules/.pnpm/payload@3.54.0_graphql@16.11.0_typescript@5.7.3/node_modules/payload/dist/fields/getFieldPaths.js\");\n/* harmony import */ var _addFieldStatePromise_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./addFieldStatePromise.js */ \"(rsc)/./node_modules/.pnpm/@payloadcms+ui@3.54.0_@type_b4e71577473023807239a2abc3ca8c78/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/addFieldStatePromise.js\");\n\n\n\n/**\n * Flattens the fields schema and fields data\n */\nconst iterateFields = async ({\n  id,\n  addErrorPathToParent: addErrorPathToParentArg,\n  anyParentLocalized = false,\n  blockData,\n  clientFieldSchemaMap,\n  collectionSlug,\n  data,\n  fields,\n  fieldSchemaMap,\n  filter,\n  forceFullValue = false,\n  fullData,\n  includeSchema = false,\n  mockRSCs,\n  omitParents = false,\n  operation,\n  parentIndexPath,\n  parentPassesCondition = true,\n  parentPath,\n  parentSchemaPath,\n  permissions,\n  preferences,\n  previousFormState,\n  readOnly,\n  renderAllFields,\n  renderFieldFn: renderFieldFn,\n  req,\n  select,\n  selectMode,\n  skipConditionChecks = false,\n  skipValidation = false,\n  state = {}\n}) => {\n  const promises = [];\n  fields.forEach((field, fieldIndex) => {\n    let passesCondition = true;\n    const {\n      indexPath,\n      path,\n      schemaPath\n    } = (0,payload_shared__WEBPACK_IMPORTED_MODULE_0__.getFieldPaths)({\n      field,\n      index: fieldIndex,\n      parentIndexPath: 'name' in field ? '' : parentIndexPath,\n      parentPath,\n      parentSchemaPath\n    });\n    if (path !== 'id') {\n      const shouldContinue = (0,payload__WEBPACK_IMPORTED_MODULE_1__.stripUnselectedFields)({\n        field,\n        select,\n        selectMode,\n        siblingDoc: data\n      });\n      if (!shouldContinue) {\n        return;\n      }\n    }\n    const pathSegments = path ? path.split('.') : [];\n    if (!skipConditionChecks) {\n      try {\n        passesCondition = Boolean((field?.admin?.condition ? Boolean(field.admin.condition(fullData || {}, data || {}, {\n          blockData,\n          operation,\n          path: pathSegments,\n          user: req.user\n        })) : true) && parentPassesCondition);\n      } catch (err) {\n        passesCondition = false;\n        req.payload.logger.error({\n          err,\n          msg: `Error evaluating field condition at path: ${path}`\n        });\n      }\n    }\n    promises.push((0,_addFieldStatePromise_js__WEBPACK_IMPORTED_MODULE_2__.addFieldStatePromise)({\n      id,\n      addErrorPathToParent: addErrorPathToParentArg,\n      anyParentLocalized,\n      blockData,\n      clientFieldSchemaMap,\n      collectionSlug,\n      data,\n      field,\n      fieldIndex,\n      fieldSchemaMap,\n      filter,\n      forceFullValue,\n      fullData,\n      includeSchema,\n      indexPath,\n      mockRSCs,\n      omitParents,\n      operation,\n      parentIndexPath,\n      parentPath,\n      parentPermissions: permissions,\n      parentSchemaPath,\n      passesCondition,\n      path,\n      preferences,\n      previousFormState,\n      readOnly,\n      renderAllFields,\n      renderFieldFn,\n      req,\n      schemaPath,\n      select,\n      selectMode,\n      skipConditionChecks,\n      skipValidation,\n      state\n    }));\n  });\n  await Promise.all(promises);\n};\n//# sourceMappingURL=iterateFields.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQHBheWxvYWRjbXMrdWlAMy41NC4wX0B0eXBlX2I0ZTcxNTc3NDczMDIzODA3MjM5YTJhYmMzY2E4Yzc4L25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy91aS9kaXN0L2Zvcm1zL2ZpZWxkU2NoZW1hc1RvRm9ybVN0YXRlL2l0ZXJhdGVGaWVsZHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFnRDtBQUNEO0FBQ2tCO0FBQ2pFO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sRUFBRSw2REFBYTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsNkJBQTZCLDhEQUFxQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlHQUF5RyxZQUFZO0FBQ3JIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSw0REFBNEQsS0FBSztBQUNqRSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLGtCQUFrQiw4RUFBb0I7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xca3VzaFxcRGVza3RvcFxcc2NyYXBlc2F2ZWVcXGFwcHNcXGNtc1xcbm9kZV9tb2R1bGVzXFwucG5wbVxcQHBheWxvYWRjbXMrdWlAMy41NC4wX0B0eXBlX2I0ZTcxNTc3NDczMDIzODA3MjM5YTJhYmMzY2E4Yzc4XFxub2RlX21vZHVsZXNcXEBwYXlsb2FkY21zXFx1aVxcZGlzdFxcZm9ybXNcXGZpZWxkU2NoZW1hc1RvRm9ybVN0YXRlXFxpdGVyYXRlRmllbGRzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHN0cmlwVW5zZWxlY3RlZEZpZWxkcyB9IGZyb20gJ3BheWxvYWQnO1xuaW1wb3J0IHsgZ2V0RmllbGRQYXRocyB9IGZyb20gJ3BheWxvYWQvc2hhcmVkJztcbmltcG9ydCB7IGFkZEZpZWxkU3RhdGVQcm9taXNlIH0gZnJvbSAnLi9hZGRGaWVsZFN0YXRlUHJvbWlzZS5qcyc7XG4vKipcbiAqIEZsYXR0ZW5zIHRoZSBmaWVsZHMgc2NoZW1hIGFuZCBmaWVsZHMgZGF0YVxuICovXG5leHBvcnQgY29uc3QgaXRlcmF0ZUZpZWxkcyA9IGFzeW5jICh7XG4gIGlkLFxuICBhZGRFcnJvclBhdGhUb1BhcmVudDogYWRkRXJyb3JQYXRoVG9QYXJlbnRBcmcsXG4gIGFueVBhcmVudExvY2FsaXplZCA9IGZhbHNlLFxuICBibG9ja0RhdGEsXG4gIGNsaWVudEZpZWxkU2NoZW1hTWFwLFxuICBjb2xsZWN0aW9uU2x1ZyxcbiAgZGF0YSxcbiAgZmllbGRzLFxuICBmaWVsZFNjaGVtYU1hcCxcbiAgZmlsdGVyLFxuICBmb3JjZUZ1bGxWYWx1ZSA9IGZhbHNlLFxuICBmdWxsRGF0YSxcbiAgaW5jbHVkZVNjaGVtYSA9IGZhbHNlLFxuICBtb2NrUlNDcyxcbiAgb21pdFBhcmVudHMgPSBmYWxzZSxcbiAgb3BlcmF0aW9uLFxuICBwYXJlbnRJbmRleFBhdGgsXG4gIHBhcmVudFBhc3Nlc0NvbmRpdGlvbiA9IHRydWUsXG4gIHBhcmVudFBhdGgsXG4gIHBhcmVudFNjaGVtYVBhdGgsXG4gIHBlcm1pc3Npb25zLFxuICBwcmVmZXJlbmNlcyxcbiAgcHJldmlvdXNGb3JtU3RhdGUsXG4gIHJlYWRPbmx5LFxuICByZW5kZXJBbGxGaWVsZHMsXG4gIHJlbmRlckZpZWxkRm46IHJlbmRlckZpZWxkRm4sXG4gIHJlcSxcbiAgc2VsZWN0LFxuICBzZWxlY3RNb2RlLFxuICBza2lwQ29uZGl0aW9uQ2hlY2tzID0gZmFsc2UsXG4gIHNraXBWYWxpZGF0aW9uID0gZmFsc2UsXG4gIHN0YXRlID0ge31cbn0pID0+IHtcbiAgY29uc3QgcHJvbWlzZXMgPSBbXTtcbiAgZmllbGRzLmZvckVhY2goKGZpZWxkLCBmaWVsZEluZGV4KSA9PiB7XG4gICAgbGV0IHBhc3Nlc0NvbmRpdGlvbiA9IHRydWU7XG4gICAgY29uc3Qge1xuICAgICAgaW5kZXhQYXRoLFxuICAgICAgcGF0aCxcbiAgICAgIHNjaGVtYVBhdGhcbiAgICB9ID0gZ2V0RmllbGRQYXRocyh7XG4gICAgICBmaWVsZCxcbiAgICAgIGluZGV4OiBmaWVsZEluZGV4LFxuICAgICAgcGFyZW50SW5kZXhQYXRoOiAnbmFtZScgaW4gZmllbGQgPyAnJyA6IHBhcmVudEluZGV4UGF0aCxcbiAgICAgIHBhcmVudFBhdGgsXG4gICAgICBwYXJlbnRTY2hlbWFQYXRoXG4gICAgfSk7XG4gICAgaWYgKHBhdGggIT09ICdpZCcpIHtcbiAgICAgIGNvbnN0IHNob3VsZENvbnRpbnVlID0gc3RyaXBVbnNlbGVjdGVkRmllbGRzKHtcbiAgICAgICAgZmllbGQsXG4gICAgICAgIHNlbGVjdCxcbiAgICAgICAgc2VsZWN0TW9kZSxcbiAgICAgICAgc2libGluZ0RvYzogZGF0YVxuICAgICAgfSk7XG4gICAgICBpZiAoIXNob3VsZENvbnRpbnVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgcGF0aFNlZ21lbnRzID0gcGF0aCA/IHBhdGguc3BsaXQoJy4nKSA6IFtdO1xuICAgIGlmICghc2tpcENvbmRpdGlvbkNoZWNrcykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcGFzc2VzQ29uZGl0aW9uID0gQm9vbGVhbigoZmllbGQ/LmFkbWluPy5jb25kaXRpb24gPyBCb29sZWFuKGZpZWxkLmFkbWluLmNvbmRpdGlvbihmdWxsRGF0YSB8fCB7fSwgZGF0YSB8fCB7fSwge1xuICAgICAgICAgIGJsb2NrRGF0YSxcbiAgICAgICAgICBvcGVyYXRpb24sXG4gICAgICAgICAgcGF0aDogcGF0aFNlZ21lbnRzLFxuICAgICAgICAgIHVzZXI6IHJlcS51c2VyXG4gICAgICAgIH0pKSA6IHRydWUpICYmIHBhcmVudFBhc3Nlc0NvbmRpdGlvbik7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcGFzc2VzQ29uZGl0aW9uID0gZmFsc2U7XG4gICAgICAgIHJlcS5wYXlsb2FkLmxvZ2dlci5lcnJvcih7XG4gICAgICAgICAgZXJyLFxuICAgICAgICAgIG1zZzogYEVycm9yIGV2YWx1YXRpbmcgZmllbGQgY29uZGl0aW9uIGF0IHBhdGg6ICR7cGF0aH1gXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBwcm9taXNlcy5wdXNoKGFkZEZpZWxkU3RhdGVQcm9taXNlKHtcbiAgICAgIGlkLFxuICAgICAgYWRkRXJyb3JQYXRoVG9QYXJlbnQ6IGFkZEVycm9yUGF0aFRvUGFyZW50QXJnLFxuICAgICAgYW55UGFyZW50TG9jYWxpemVkLFxuICAgICAgYmxvY2tEYXRhLFxuICAgICAgY2xpZW50RmllbGRTY2hlbWFNYXAsXG4gICAgICBjb2xsZWN0aW9uU2x1ZyxcbiAgICAgIGRhdGEsXG4gICAgICBmaWVsZCxcbiAgICAgIGZpZWxkSW5kZXgsXG4gICAgICBmaWVsZFNjaGVtYU1hcCxcbiAgICAgIGZpbHRlcixcbiAgICAgIGZvcmNlRnVsbFZhbHVlLFxuICAgICAgZnVsbERhdGEsXG4gICAgICBpbmNsdWRlU2NoZW1hLFxuICAgICAgaW5kZXhQYXRoLFxuICAgICAgbW9ja1JTQ3MsXG4gICAgICBvbWl0UGFyZW50cyxcbiAgICAgIG9wZXJhdGlvbixcbiAgICAgIHBhcmVudEluZGV4UGF0aCxcbiAgICAgIHBhcmVudFBhdGgsXG4gICAgICBwYXJlbnRQZXJtaXNzaW9uczogcGVybWlzc2lvbnMsXG4gICAgICBwYXJlbnRTY2hlbWFQYXRoLFxuICAgICAgcGFzc2VzQ29uZGl0aW9uLFxuICAgICAgcGF0aCxcbiAgICAgIHByZWZlcmVuY2VzLFxuICAgICAgcHJldmlvdXNGb3JtU3RhdGUsXG4gICAgICByZWFkT25seSxcbiAgICAgIHJlbmRlckFsbEZpZWxkcyxcbiAgICAgIHJlbmRlckZpZWxkRm4sXG4gICAgICByZXEsXG4gICAgICBzY2hlbWFQYXRoLFxuICAgICAgc2VsZWN0LFxuICAgICAgc2VsZWN0TW9kZSxcbiAgICAgIHNraXBDb25kaXRpb25DaGVja3MsXG4gICAgICBza2lwVmFsaWRhdGlvbixcbiAgICAgIHN0YXRlXG4gICAgfSkpO1xuICB9KTtcbiAgYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWl0ZXJhdGVGaWVsZHMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@payloadcms+ui@3.54.0_@type_b4e71577473023807239a2abc3ca8c78/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/iterateFields.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@payloadcms+ui@3.54.0_@type_b4e71577473023807239a2abc3ca8c78/node_modules/@payloadcms/ui/dist/utilities/buildFieldSchemaMap/traverseFields.js":
/*!**************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@payloadcms+ui@3.54.0_@type_b4e71577473023807239a2abc3ca8c78/node_modules/@payloadcms/ui/dist/utilities/buildFieldSchemaMap/traverseFields.js ***!
  \**************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   traverseFields: () => (/* binding */ traverseFields)\n/* harmony export */ });\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! payload */ \"(rsc)/./node_modules/.pnpm/payload@3.54.0_graphql@16.11.0_typescript@5.7.3/node_modules/payload/dist/errors/MissingEditorProp.js\");\n/* harmony import */ var payload_shared__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! payload/shared */ \"(rsc)/./node_modules/.pnpm/payload@3.54.0_graphql@16.11.0_typescript@5.7.3/node_modules/payload/dist/fields/getFieldPaths.js\");\n/* harmony import */ var payload_shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! payload/shared */ \"(rsc)/./node_modules/.pnpm/payload@3.54.0_graphql@16.11.0_typescript@5.7.3/node_modules/payload/dist/fields/config/types.js\");\n\n\nconst traverseFields = ({\n  config,\n  fields,\n  i18n,\n  parentIndexPath,\n  parentSchemaPath,\n  schemaMap\n}) => {\n  for (const [index, field] of fields.entries()) {\n    const {\n      indexPath,\n      schemaPath\n    } = (0,payload_shared__WEBPACK_IMPORTED_MODULE_0__.getFieldPaths)({\n      field,\n      index,\n      parentIndexPath: 'name' in field ? '' : parentIndexPath,\n      parentPath: '',\n      parentSchemaPath\n    });\n    schemaMap.set(schemaPath, field);\n    switch (field.type) {\n      case 'array':\n        traverseFields({\n          config,\n          fields: field.fields,\n          i18n,\n          parentIndexPath: '',\n          parentSchemaPath: schemaPath,\n          schemaMap\n        });\n        break;\n      case 'blocks':\n        ;\n        (field.blockReferences ?? field.blocks).map(_block => {\n          // TODO: iterate over blocks mapped to block slug in v4, or pass through payload.blocks\n          const block = typeof _block === 'string' ? config.blocks.find(b => b.slug === _block) : _block;\n          const blockSchemaPath = `${schemaPath}.${block.slug}`;\n          schemaMap.set(blockSchemaPath, block);\n          traverseFields({\n            config,\n            fields: block.fields,\n            i18n,\n            parentIndexPath: '',\n            parentSchemaPath: blockSchemaPath,\n            schemaMap\n          });\n        });\n        break;\n      case 'collapsible':\n      case 'row':\n        traverseFields({\n          config,\n          fields: field.fields,\n          i18n,\n          parentIndexPath: indexPath,\n          parentSchemaPath,\n          schemaMap\n        });\n        break;\n      case 'group':\n        if ((0,payload_shared__WEBPACK_IMPORTED_MODULE_1__.fieldAffectsData)(field)) {\n          traverseFields({\n            config,\n            fields: field.fields,\n            i18n,\n            parentIndexPath: '',\n            parentSchemaPath: schemaPath,\n            schemaMap\n          });\n        } else {\n          traverseFields({\n            config,\n            fields: field.fields,\n            i18n,\n            parentIndexPath: indexPath,\n            parentSchemaPath,\n            schemaMap\n          });\n        }\n        break;\n      case 'richText':\n        if (!field?.editor) {\n          throw new payload__WEBPACK_IMPORTED_MODULE_2__.MissingEditorProp(field) // while we allow disabling editor functionality, you should not have any richText fields defined if you do not have an editor\n          ;\n        }\n        if (typeof field.editor === 'function') {\n          throw new Error('Attempted to access unsanitized rich text editor.');\n        }\n        if (typeof field.editor.generateSchemaMap === 'function') {\n          field.editor.generateSchemaMap({\n            config,\n            field,\n            i18n,\n            schemaMap,\n            schemaPath\n          });\n        }\n        break;\n      case 'tabs':\n        field.tabs.map((tab, tabIndex) => {\n          const isNamedTab = (0,payload_shared__WEBPACK_IMPORTED_MODULE_1__.tabHasName)(tab);\n          const {\n            indexPath: tabIndexPath,\n            schemaPath: tabSchemaPath\n          } = (0,payload_shared__WEBPACK_IMPORTED_MODULE_0__.getFieldPaths)({\n            field: {\n              ...tab,\n              type: 'tab'\n            },\n            index: tabIndex,\n            parentIndexPath: indexPath,\n            parentPath: '',\n            parentSchemaPath\n          });\n          schemaMap.set(tabSchemaPath, tab);\n          traverseFields({\n            config,\n            fields: tab.fields,\n            i18n,\n            parentIndexPath: isNamedTab ? '' : tabIndexPath,\n            parentSchemaPath: isNamedTab ? tabSchemaPath : parentSchemaPath,\n            schemaMap\n          });\n        });\n        break;\n    }\n  }\n};\n//# sourceMappingURL=traverseFields.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQHBheWxvYWRjbXMrdWlAMy41NC4wX0B0eXBlX2I0ZTcxNTc3NDczMDIzODA3MjM5YTJhYmMzY2E4Yzc4L25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy91aS9kaXN0L3V0aWxpdGllcy9idWlsZEZpZWxkU2NoZW1hTWFwL3RyYXZlcnNlRmllbGRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBNEM7QUFDaUM7QUFDdEU7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLEVBQUUsNkRBQWE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsV0FBVyxHQUFHLFdBQVc7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFlBQVksZ0VBQWdCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixzREFBaUI7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLDBEQUFVO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBLFlBQVksRUFBRSw2REFBYTtBQUMzQjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxrdXNoXFxEZXNrdG9wXFxzY3JhcGVzYXZlZVxcYXBwc1xcY21zXFxub2RlX21vZHVsZXNcXC5wbnBtXFxAcGF5bG9hZGNtcyt1aUAzLjU0LjBfQHR5cGVfYjRlNzE1Nzc0NzMwMjM4MDcyMzlhMmFiYzNjYThjNzhcXG5vZGVfbW9kdWxlc1xcQHBheWxvYWRjbXNcXHVpXFxkaXN0XFx1dGlsaXRpZXNcXGJ1aWxkRmllbGRTY2hlbWFNYXBcXHRyYXZlcnNlRmllbGRzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE1pc3NpbmdFZGl0b3JQcm9wIH0gZnJvbSAncGF5bG9hZCc7XG5pbXBvcnQgeyBmaWVsZEFmZmVjdHNEYXRhLCBnZXRGaWVsZFBhdGhzLCB0YWJIYXNOYW1lIH0gZnJvbSAncGF5bG9hZC9zaGFyZWQnO1xuZXhwb3J0IGNvbnN0IHRyYXZlcnNlRmllbGRzID0gKHtcbiAgY29uZmlnLFxuICBmaWVsZHMsXG4gIGkxOG4sXG4gIHBhcmVudEluZGV4UGF0aCxcbiAgcGFyZW50U2NoZW1hUGF0aCxcbiAgc2NoZW1hTWFwXG59KSA9PiB7XG4gIGZvciAoY29uc3QgW2luZGV4LCBmaWVsZF0gb2YgZmllbGRzLmVudHJpZXMoKSkge1xuICAgIGNvbnN0IHtcbiAgICAgIGluZGV4UGF0aCxcbiAgICAgIHNjaGVtYVBhdGhcbiAgICB9ID0gZ2V0RmllbGRQYXRocyh7XG4gICAgICBmaWVsZCxcbiAgICAgIGluZGV4LFxuICAgICAgcGFyZW50SW5kZXhQYXRoOiAnbmFtZScgaW4gZmllbGQgPyAnJyA6IHBhcmVudEluZGV4UGF0aCxcbiAgICAgIHBhcmVudFBhdGg6ICcnLFxuICAgICAgcGFyZW50U2NoZW1hUGF0aFxuICAgIH0pO1xuICAgIHNjaGVtYU1hcC5zZXQoc2NoZW1hUGF0aCwgZmllbGQpO1xuICAgIHN3aXRjaCAoZmllbGQudHlwZSkge1xuICAgICAgY2FzZSAnYXJyYXknOlxuICAgICAgICB0cmF2ZXJzZUZpZWxkcyh7XG4gICAgICAgICAgY29uZmlnLFxuICAgICAgICAgIGZpZWxkczogZmllbGQuZmllbGRzLFxuICAgICAgICAgIGkxOG4sXG4gICAgICAgICAgcGFyZW50SW5kZXhQYXRoOiAnJyxcbiAgICAgICAgICBwYXJlbnRTY2hlbWFQYXRoOiBzY2hlbWFQYXRoLFxuICAgICAgICAgIHNjaGVtYU1hcFxuICAgICAgICB9KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdibG9ja3MnOlxuICAgICAgICA7XG4gICAgICAgIChmaWVsZC5ibG9ja1JlZmVyZW5jZXMgPz8gZmllbGQuYmxvY2tzKS5tYXAoX2Jsb2NrID0+IHtcbiAgICAgICAgICAvLyBUT0RPOiBpdGVyYXRlIG92ZXIgYmxvY2tzIG1hcHBlZCB0byBibG9jayBzbHVnIGluIHY0LCBvciBwYXNzIHRocm91Z2ggcGF5bG9hZC5ibG9ja3NcbiAgICAgICAgICBjb25zdCBibG9jayA9IHR5cGVvZiBfYmxvY2sgPT09ICdzdHJpbmcnID8gY29uZmlnLmJsb2Nrcy5maW5kKGIgPT4gYi5zbHVnID09PSBfYmxvY2spIDogX2Jsb2NrO1xuICAgICAgICAgIGNvbnN0IGJsb2NrU2NoZW1hUGF0aCA9IGAke3NjaGVtYVBhdGh9LiR7YmxvY2suc2x1Z31gO1xuICAgICAgICAgIHNjaGVtYU1hcC5zZXQoYmxvY2tTY2hlbWFQYXRoLCBibG9jayk7XG4gICAgICAgICAgdHJhdmVyc2VGaWVsZHMoe1xuICAgICAgICAgICAgY29uZmlnLFxuICAgICAgICAgICAgZmllbGRzOiBibG9jay5maWVsZHMsXG4gICAgICAgICAgICBpMThuLFxuICAgICAgICAgICAgcGFyZW50SW5kZXhQYXRoOiAnJyxcbiAgICAgICAgICAgIHBhcmVudFNjaGVtYVBhdGg6IGJsb2NrU2NoZW1hUGF0aCxcbiAgICAgICAgICAgIHNjaGVtYU1hcFxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdjb2xsYXBzaWJsZSc6XG4gICAgICBjYXNlICdyb3cnOlxuICAgICAgICB0cmF2ZXJzZUZpZWxkcyh7XG4gICAgICAgICAgY29uZmlnLFxuICAgICAgICAgIGZpZWxkczogZmllbGQuZmllbGRzLFxuICAgICAgICAgIGkxOG4sXG4gICAgICAgICAgcGFyZW50SW5kZXhQYXRoOiBpbmRleFBhdGgsXG4gICAgICAgICAgcGFyZW50U2NoZW1hUGF0aCxcbiAgICAgICAgICBzY2hlbWFNYXBcbiAgICAgICAgfSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnZ3JvdXAnOlxuICAgICAgICBpZiAoZmllbGRBZmZlY3RzRGF0YShmaWVsZCkpIHtcbiAgICAgICAgICB0cmF2ZXJzZUZpZWxkcyh7XG4gICAgICAgICAgICBjb25maWcsXG4gICAgICAgICAgICBmaWVsZHM6IGZpZWxkLmZpZWxkcyxcbiAgICAgICAgICAgIGkxOG4sXG4gICAgICAgICAgICBwYXJlbnRJbmRleFBhdGg6ICcnLFxuICAgICAgICAgICAgcGFyZW50U2NoZW1hUGF0aDogc2NoZW1hUGF0aCxcbiAgICAgICAgICAgIHNjaGVtYU1hcFxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRyYXZlcnNlRmllbGRzKHtcbiAgICAgICAgICAgIGNvbmZpZyxcbiAgICAgICAgICAgIGZpZWxkczogZmllbGQuZmllbGRzLFxuICAgICAgICAgICAgaTE4bixcbiAgICAgICAgICAgIHBhcmVudEluZGV4UGF0aDogaW5kZXhQYXRoLFxuICAgICAgICAgICAgcGFyZW50U2NoZW1hUGF0aCxcbiAgICAgICAgICAgIHNjaGVtYU1hcFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncmljaFRleHQnOlxuICAgICAgICBpZiAoIWZpZWxkPy5lZGl0b3IpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgTWlzc2luZ0VkaXRvclByb3AoZmllbGQpIC8vIHdoaWxlIHdlIGFsbG93IGRpc2FibGluZyBlZGl0b3IgZnVuY3Rpb25hbGl0eSwgeW91IHNob3VsZCBub3QgaGF2ZSBhbnkgcmljaFRleHQgZmllbGRzIGRlZmluZWQgaWYgeW91IGRvIG5vdCBoYXZlIGFuIGVkaXRvclxuICAgICAgICAgIDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGZpZWxkLmVkaXRvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQXR0ZW1wdGVkIHRvIGFjY2VzcyB1bnNhbml0aXplZCByaWNoIHRleHQgZWRpdG9yLicpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgZmllbGQuZWRpdG9yLmdlbmVyYXRlU2NoZW1hTWFwID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgZmllbGQuZWRpdG9yLmdlbmVyYXRlU2NoZW1hTWFwKHtcbiAgICAgICAgICAgIGNvbmZpZyxcbiAgICAgICAgICAgIGZpZWxkLFxuICAgICAgICAgICAgaTE4bixcbiAgICAgICAgICAgIHNjaGVtYU1hcCxcbiAgICAgICAgICAgIHNjaGVtYVBhdGhcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3RhYnMnOlxuICAgICAgICBmaWVsZC50YWJzLm1hcCgodGFiLCB0YWJJbmRleCkgPT4ge1xuICAgICAgICAgIGNvbnN0IGlzTmFtZWRUYWIgPSB0YWJIYXNOYW1lKHRhYik7XG4gICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgaW5kZXhQYXRoOiB0YWJJbmRleFBhdGgsXG4gICAgICAgICAgICBzY2hlbWFQYXRoOiB0YWJTY2hlbWFQYXRoXG4gICAgICAgICAgfSA9IGdldEZpZWxkUGF0aHMoe1xuICAgICAgICAgICAgZmllbGQ6IHtcbiAgICAgICAgICAgICAgLi4udGFiLFxuICAgICAgICAgICAgICB0eXBlOiAndGFiJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGluZGV4OiB0YWJJbmRleCxcbiAgICAgICAgICAgIHBhcmVudEluZGV4UGF0aDogaW5kZXhQYXRoLFxuICAgICAgICAgICAgcGFyZW50UGF0aDogJycsXG4gICAgICAgICAgICBwYXJlbnRTY2hlbWFQYXRoXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2NoZW1hTWFwLnNldCh0YWJTY2hlbWFQYXRoLCB0YWIpO1xuICAgICAgICAgIHRyYXZlcnNlRmllbGRzKHtcbiAgICAgICAgICAgIGNvbmZpZyxcbiAgICAgICAgICAgIGZpZWxkczogdGFiLmZpZWxkcyxcbiAgICAgICAgICAgIGkxOG4sXG4gICAgICAgICAgICBwYXJlbnRJbmRleFBhdGg6IGlzTmFtZWRUYWIgPyAnJyA6IHRhYkluZGV4UGF0aCxcbiAgICAgICAgICAgIHBhcmVudFNjaGVtYVBhdGg6IGlzTmFtZWRUYWIgPyB0YWJTY2hlbWFQYXRoIDogcGFyZW50U2NoZW1hUGF0aCxcbiAgICAgICAgICAgIHNjaGVtYU1hcFxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHJhdmVyc2VGaWVsZHMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@payloadcms+ui@3.54.0_@type_b4e71577473023807239a2abc3ca8c78/node_modules/@payloadcms/ui/dist/utilities/buildFieldSchemaMap/traverseFields.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@payloadcms+ui@3.54.0_@type_b4e71577473023807239a2abc3ca8c78/node_modules/@payloadcms/ui/dist/utilities/resolveFilterOptions.js":
/*!************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@payloadcms+ui@3.54.0_@type_b4e71577473023807239a2abc3ca8c78/node_modules/@payloadcms/ui/dist/utilities/resolveFilterOptions.js ***!
  \************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   resolveFilterOptions: () => (/* binding */ resolveFilterOptions)\n/* harmony export */ });\nconst resolveFilterOptions = async (filterOptions, options) => {\n  const {\n    relationTo\n  } = options;\n  const relations = Array.isArray(relationTo) ? relationTo : [relationTo];\n  const query = {};\n  if (typeof filterOptions !== 'undefined') {\n    await Promise.all(relations.map(async relation => {\n      query[relation] = typeof filterOptions === 'function' ? await filterOptions({\n        ...options,\n        relationTo: relation\n      }) : filterOptions;\n      if (query[relation] === true) {\n        query[relation] = {};\n      }\n      // this is an ugly way to prevent results from being returned\n      if (query[relation] === false) {\n        query[relation] = {\n          id: {\n            exists: false\n          }\n        };\n      }\n    }));\n  }\n  return query;\n};\n//# sourceMappingURL=resolveFilterOptions.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQHBheWxvYWRjbXMrdWlAMy41NC4wX0B0eXBlX2I0ZTcxNTc3NDczMDIzODA3MjM5YTJhYmMzY2E4Yzc4L25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy91aS9kaXN0L3V0aWxpdGllcy9yZXNvbHZlRmlsdGVyT3B0aW9ucy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU87QUFDUDtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xca3VzaFxcRGVza3RvcFxcc2NyYXBlc2F2ZWVcXGFwcHNcXGNtc1xcbm9kZV9tb2R1bGVzXFwucG5wbVxcQHBheWxvYWRjbXMrdWlAMy41NC4wX0B0eXBlX2I0ZTcxNTc3NDczMDIzODA3MjM5YTJhYmMzY2E4Yzc4XFxub2RlX21vZHVsZXNcXEBwYXlsb2FkY21zXFx1aVxcZGlzdFxcdXRpbGl0aWVzXFxyZXNvbHZlRmlsdGVyT3B0aW9ucy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgcmVzb2x2ZUZpbHRlck9wdGlvbnMgPSBhc3luYyAoZmlsdGVyT3B0aW9ucywgb3B0aW9ucykgPT4ge1xuICBjb25zdCB7XG4gICAgcmVsYXRpb25Ub1xuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgcmVsYXRpb25zID0gQXJyYXkuaXNBcnJheShyZWxhdGlvblRvKSA/IHJlbGF0aW9uVG8gOiBbcmVsYXRpb25Ub107XG4gIGNvbnN0IHF1ZXJ5ID0ge307XG4gIGlmICh0eXBlb2YgZmlsdGVyT3B0aW9ucyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBhd2FpdCBQcm9taXNlLmFsbChyZWxhdGlvbnMubWFwKGFzeW5jIHJlbGF0aW9uID0+IHtcbiAgICAgIHF1ZXJ5W3JlbGF0aW9uXSA9IHR5cGVvZiBmaWx0ZXJPcHRpb25zID09PSAnZnVuY3Rpb24nID8gYXdhaXQgZmlsdGVyT3B0aW9ucyh7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIHJlbGF0aW9uVG86IHJlbGF0aW9uXG4gICAgICB9KSA6IGZpbHRlck9wdGlvbnM7XG4gICAgICBpZiAocXVlcnlbcmVsYXRpb25dID09PSB0cnVlKSB7XG4gICAgICAgIHF1ZXJ5W3JlbGF0aW9uXSA9IHt9O1xuICAgICAgfVxuICAgICAgLy8gdGhpcyBpcyBhbiB1Z2x5IHdheSB0byBwcmV2ZW50IHJlc3VsdHMgZnJvbSBiZWluZyByZXR1cm5lZFxuICAgICAgaWYgKHF1ZXJ5W3JlbGF0aW9uXSA9PT0gZmFsc2UpIHtcbiAgICAgICAgcXVlcnlbcmVsYXRpb25dID0ge1xuICAgICAgICAgIGlkOiB7XG4gICAgICAgICAgICBleGlzdHM6IGZhbHNlXG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0pKTtcbiAgfVxuICByZXR1cm4gcXVlcnk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVzb2x2ZUZpbHRlck9wdGlvbnMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@payloadcms+ui@3.54.0_@type_b4e71577473023807239a2abc3ca8c78/node_modules/@payloadcms/ui/dist/utilities/resolveFilterOptions.js\n");

/***/ })

};
;